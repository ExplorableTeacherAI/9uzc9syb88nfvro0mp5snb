import{c as Oe,r as g,h as Ka,j as a,S as Ya,L as Xa,a as qa,T as Za,b as Ja,B as ve,P as Qa,d as el,e as tl,f as Pi,g as ji,i as Di,D as nl,k as sl,l as il,m as On,n as K,o as rl,C as vt}from"./index-BbV8X9jt.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ol=Oe("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const al=Oe("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eo=Oe("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ll=Oe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const js=Oe("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const to=Oe("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ds=Oe("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cl=Oe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ul=Oe("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hl=Oe("Undo",[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dl=Oe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),fl=["#ef4444","#f97316","#eab308","#22c55e","#3b82f6","#8b5cf6","#ec4899","#ffffff","#000000"],ml=[2,4,6,8],pl=[14,18,24,32],gl=({targetElement:e,onSend:t,onCancel:n})=>{const s=g.useRef(null),i=g.useRef(null),o=g.useRef(new Map),r=g.useRef(null),[l,c]=g.useState({top:0,left:0,width:0,height:0}),[u,h]=g.useState("draw"),[d,f]=g.useState("#ef4444"),[p,y]=g.useState(4),[x,w]=g.useState(18),[T,j]=g.useState([]),[A,P]=g.useState(!1),[E,k]=g.useState([]),[O,D]=g.useState(null),[N,M]=g.useState(null),[v,B]=g.useState(""),[H,pe]=g.useState(!1);g.useEffect(()=>{let b;const F=()=>{const W=e.getBoundingClientRect();c(R=>R.top!==W.top||R.left!==W.left||R.width!==W.width||R.height!==W.height?{top:W.top,left:W.left,width:W.width,height:W.height}:R),b=requestAnimationFrame(F)};return b=requestAnimationFrame(F),()=>{cancelAnimationFrame(b)}},[e]),g.useEffect(()=>{var F,W;const b=i.current;if(b)if(O&&!N){const R=o.current.get(O);R&&(b.nodes([R]),(F=b.getLayer())==null||F.batchDraw())}else b.nodes([]),(W=b.getLayer())==null||W.batchDraw()},[O,N]),g.useEffect(()=>{const b=W=>{const R=W.target,C=W.clientX,L=W.clientY,_=C>=l.left&&C<=l.left+l.width&&L>=l.top-60&&L<=l.top+l.height,he=R.closest("[data-annotation-toolbar]")!==null,de=R.closest("[data-radix-popper-content-wrapper]")!==null;!_&&!he&&!de&&n()},F=setTimeout(()=>{document.addEventListener("mousedown",b)},100);return()=>{clearTimeout(F),document.removeEventListener("mousedown",b)}},[l,n]),g.useEffect(()=>{const b=F=>{if(N){F.key==="Escape"&&te();return}(F.key==="Delete"||F.key==="Backspace")&&O&&(F.preventDefault(),k(W=>W.filter(R=>R.id!==O)),D(null))};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[O,N]);const te=g.useCallback(()=>{N&&k(b=>b.map(F=>F.id===N?{...F,text:v}:F)),M(null),B("")},[N,v]),oe=b=>{var W,R;const F=b.target===b.target.getStage();if(u==="draw"){D(null),P(!0);const C=(W=b.target.getStage())==null?void 0:W.getPointerPosition();if(C){const L={id:`line-${Date.now()}`,points:[C.x,C.y],color:d,strokeWidth:p};j(_=>[..._,L])}}else if(u==="text"&&F){N&&te(),D(null);const C=(R=b.target.getStage())==null?void 0:R.getPointerPosition();if(C){const L={id:`text-${Date.now()}`,x:C.x,y:C.y,text:"",color:d,fontSize:x};k(_=>[..._,L]),M(L.id),B(""),setTimeout(()=>{var _;return(_=r.current)==null?void 0:_.focus()},50)}}},$=b=>{var W;if(!A||u!=="draw")return;const F=(W=b.target.getStage())==null?void 0:W.getPointerPosition();F&&j(R=>{const C=[...R],L=C[C.length-1];return L&&(L.points=[...L.points,F.x,F.y]),C})},X=()=>{P(!1)},ue=b=>{N&&N!==b.id&&te(),D(b.id)},ge=b=>{M(b.id),B(b.text),setTimeout(()=>{var F;return(F=r.current)==null?void 0:F.focus()},50)},G=(b,F)=>{k(W=>W.map(R=>R.id===F?{...R,x:b.target.x(),y:b.target.y()}:R))},Ae=(b,F)=>{const W=b.target,R=W.scaleX(),C=W.scaleY(),L=E.find(_=>_.id===F);if(L){const _=Math.max(10,Math.round(L.fontSize*Math.max(R,C)));k(he=>he.map(de=>de.id===F?{...de,x:W.x(),y:W.y(),fontSize:_}:de)),W.scaleX(1),W.scaleY(1)}},ee=g.useCallback(()=>{T.length>0?j(b=>b.slice(0,-1)):E.length>0&&k(b=>b.slice(0,-1))},[T.length,E.length]),at=g.useCallback(()=>{j([]),k([]),D(null),M(null)},[]),Y=g.useCallback(async()=>{if(s.current){pe(!0);try{D(null),M(null),await new Promise(L=>setTimeout(L,100));const b=await Ka(e,{useCORS:!0,logging:!1,backgroundColor:null}),F=s.current.toCanvas({pixelRatio:b.width/l.width}),W=document.createElement("canvas");W.width=b.width,W.height=b.height;const R=W.getContext("2d");R&&(R.drawImage(b,0,0),R.drawImage(F,0,0));const C=W.toDataURL("image/png");t(C)}catch(b){console.error("Error capturing annotation:",b),pe(!1)}}},[e,l.width,t]),Ce=E.find(b=>b.id===N);return a.jsx(a.Fragment,{children:a.jsxs("div",{className:"fixed z-[9999]",style:{top:l.top,left:l.left,width:l.width,height:l.height},children:[a.jsx("div",{className:"absolute inset-0 ring-4 rounded-lg pointer-events-none",style:{"--tw-ring-color":"#D4EDE5"}}),a.jsx(Ya,{ref:s,width:l.width,height:l.height,onMouseDown:oe,onMouseMove:$,onMouseUp:X,onTouchStart:oe,onTouchMove:$,onTouchEnd:X,style:{cursor:u==="draw"?"crosshair":"default"},children:a.jsxs(Xa,{children:[T.map(b=>a.jsx(qa,{points:b.points,stroke:b.color,strokeWidth:b.strokeWidth,lineCap:"round",lineJoin:"round",tension:.5,globalCompositeOperation:"source-over"},b.id)),E.map(b=>a.jsx(Za,{ref:F=>{F?o.current.set(b.id,F):o.current.delete(b.id)},id:b.id,x:b.x,y:b.y,text:b.id===N?"":b.text||"Click to type...",fontSize:b.fontSize,fill:b.id===N?"transparent":b.color,draggable:u==="text",onClick:()=>ue(b),onTap:()=>ue(b),onDblClick:()=>ge(b),onDblTap:()=>ge(b),onDragEnd:F=>G(F,b.id),onTransformEnd:F=>Ae(F,b.id),opacity:b.text||b.id===N?1:.5},b.id)),a.jsx(Ja,{ref:i,rotateEnabled:!1,borderEnabled:!1,enabledAnchors:["top-left","top-right","bottom-left","bottom-right"],anchorSize:10,anchorCornerRadius:2,anchorFill:"#0D7377",anchorStroke:"#0D7377",keepRatio:!0})]})}),N&&Ce&&a.jsx("textarea",{ref:r,value:v,onChange:b=>B(b.target.value),onBlur:te,placeholder:"Type text...",className:"absolute bg-transparent border-2 border-[#0D7377] rounded p-1 resize-none focus:outline-none",style:{left:Ce.x,top:Ce.y,color:Ce.color,fontSize:Ce.fontSize,minWidth:100,minHeight:Ce.fontSize+10},autoFocus:!0}),a.jsx("div",{className:"absolute -top-14 left-0 right-0 flex items-center justify-center gap-2","data-annotation-toolbar":!0,children:a.jsxs("div",{className:"flex items-center gap-2 bg-background/95 backdrop-blur-sm rounded-lg shadow-lg border p-2",children:[a.jsxs("div",{className:"flex items-center gap-1 bg-muted rounded-md p-0.5",children:[a.jsx(ve,{variant:u==="draw"?"default":"ghost",size:"icon",className:`h-7 w-7 ${u==="draw"?"bg-[#D4EDE5] text-[#0D7377] hover:bg-[#C0E5DA]":"hover:bg-[#D4EDE5] hover:text-[#0D7377]"}`,onClick:()=>{h("draw"),D(null)},title:"Draw mode",children:a.jsx(eo,{className:"h-4 w-4"})}),a.jsx(ve,{variant:u==="text"?"default":"ghost",size:"icon",className:`h-7 w-7 ${u==="text"?"bg-[#D4EDE5] text-[#0D7377] hover:bg-[#C0E5DA]":"hover:bg-[#D4EDE5] hover:text-[#0D7377]"}`,onClick:()=>h("text"),title:"Text mode",children:a.jsx(ul,{className:"h-4 w-4"})})]}),a.jsx("div",{className:"w-px h-6 bg-border"}),a.jsxs(Qa,{children:[a.jsx(el,{asChild:!0,children:a.jsxs(ve,{variant:"outline",size:"icon",className:"h-8 w-8 relative hover:bg-[#D4EDE5] hover:text-[#0D7377] hover:border-[#D4EDE5]",title:"Color",children:[a.jsx(al,{className:"h-4 w-4"}),a.jsx("div",{className:"absolute bottom-0.5 right-0.5 w-2.5 h-2.5 rounded-full border border-background",style:{backgroundColor:d}})]})}),a.jsxs(tl,{className:"w-auto p-2","data-annotation-toolbar":!0,children:[a.jsx("div",{className:"grid grid-cols-5 gap-1",children:fl.map(b=>a.jsx("button",{className:`w-6 h-6 rounded-md border-2 ${d===b?"border-primary":"border-transparent"}`,style:{backgroundColor:b},onClick:()=>f(b)},b))}),u==="draw"&&a.jsx(a.Fragment,{children:a.jsxs("div",{className:"mt-2 pt-2 border-t",children:[a.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Brush Size"}),a.jsx("div",{className:"flex gap-1",children:ml.map(b=>a.jsx("button",{className:`flex items-center justify-center w-8 h-8 rounded-md ${p===b?"bg-primary text-primary-foreground":"bg-muted hover:bg-muted/80"}`,onClick:()=>y(b),children:a.jsx("div",{className:"rounded-full bg-current",style:{width:b*2,height:b*2}})},b))})]})}),u==="text"&&a.jsxs("div",{className:"mt-2 pt-2 border-t",children:[a.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Font Size"}),a.jsx("div",{className:"flex gap-1",children:pl.map(b=>a.jsx("button",{className:`flex items-center justify-center w-8 h-8 rounded-md text-xs ${x===b?"bg-primary text-primary-foreground":"bg-muted hover:bg-muted/80"}`,onClick:()=>w(b),children:b},b))})]})]})]}),a.jsx("div",{className:"w-px h-6 bg-border"}),a.jsx(ve,{variant:"outline",size:"icon",className:"h-8 w-8 hover:bg-[#D4EDE5] hover:text-[#0D7377] hover:border-[#D4EDE5]",onClick:ee,disabled:T.length===0&&E.length===0,children:a.jsx(hl,{className:"h-4 w-4"})}),a.jsx(ve,{variant:"outline",size:"icon",className:"h-8 w-8 hover:bg-[#D4EDE5] hover:text-[#0D7377] hover:border-[#D4EDE5]",onClick:at,disabled:T.length===0&&E.length===0,children:a.jsx(cl,{className:"h-4 w-4"})}),a.jsx("div",{className:"w-px h-6 bg-border"}),a.jsxs(ve,{variant:"outline",size:"sm",onClick:n,className:"h-8 hover:bg-[#D4EDE5] hover:text-[#0D7377] hover:border-[#D4EDE5]",children:[a.jsx(dl,{className:"h-4 w-4 mr-1"}),"Cancel"]}),a.jsxs(ve,{variant:"outline",size:"sm",onClick:Y,disabled:H,className:"h-8 hover:bg-[#D4EDE5] hover:text-[#0D7377] hover:border-[#D4EDE5]",children:[a.jsx(to,{className:"h-4 w-4 mr-1"}),H?"Sending...":"Send to Chat"]})]})}),T.length===0&&E.length===0&&!N&&a.jsx("div",{className:"absolute bottom-4 left-0 right-0 flex justify-center pointer-events-none",children:a.jsx("div",{className:"bg-background/90 backdrop-blur-sm rounded-md px-3 py-1.5 text-sm text-muted-foreground shadow-sm",children:u==="draw"?"Draw on the section to annotate, then send to chat":"Click to add text. Drag to move. Double-click to edit."})})]})})},le=({id:e,children:t,className:n="",padding:s="md",isPreview:i=!1,onEditSection:o})=>{const[r,l]=g.useState(!1),c=g.useRef(null),u={none:"",sm:"py-2",md:"py-3",lg:"py-6"};g.useEffect(()=>{const y=x=>{x.detail.sectionId!==e&&r&&l(!1)};return window.addEventListener("annotation-overlay-opened",y),()=>{window.removeEventListener("annotation-overlay-opened",y)}},[e,r]);const h=()=>{window.dispatchEvent(new CustomEvent("annotation-overlay-opened",{detail:{sectionId:e}})),l(!0)},d=()=>{l(!1)},f=y=>{l(!1),e&&(window.parent.postMessage({type:"add-annotation-to-chat",sectionId:e,imageDataUrl:y},"*"),o&&o(`Annotated Section ${e}: [Image attached]`))},p=y=>{if(!i&&e){if(y.target.closest("button"))return;window.parent.postMessage({type:"section-selected",sectionId:e},"*")}};return a.jsxs(a.Fragment,{children:[r&&c.current&&a.jsx(gl,{targetElement:c.current,onSend:f,onCancel:d,sectionId:e}),a.jsxs("section",{ref:c,id:e,className:`w-full group flex gap-3 pr-3 ${u[s]} ${n} ${i?"":"hover:ring-1 rounded-lg transition-all"}`,style:i?void 0:{"--tw-ring-color":"#D4EDE5"},"data-section-id":e,onClick:p,children:[!i&&a.jsxs("div",{className:"relative z-10 flex items-center gap-px opacity-0 group-hover:opacity-100 transition-opacity pt-1",children:[a.jsxs(Pi,{children:[a.jsx(ji,{asChild:!0,children:a.jsx(ve,{variant:"ghost",size:"icon",className:"h-7 w-7 hover:bg-[#D4EDE5] hover:text-[#0D7377]",onClick:()=>{console.log("Add section clicked (not implemented in code mode)")},children:a.jsx(ll,{className:"h-4 w-4"})})}),a.jsx(Di,{side:"bottom",children:a.jsxs("div",{children:[a.jsx("span",{className:"font-semibold",children:"Click"})," to add below"]})})]}),a.jsxs(nl,{children:[a.jsxs(Pi,{children:[a.jsx(ji,{asChild:!0,children:a.jsx(sl,{asChild:!0,children:a.jsx(ve,{variant:"ghost",size:"icon",className:"h-7 w-7 cursor-grab active:cursor-grabbing hover:bg-[#D4EDE5] hover:text-[#0D7377]",children:a.jsx(ol,{className:"h-4 w-4"})})})}),a.jsx(Di,{side:"bottom",children:a.jsxs("div",{children:[a.jsx("span",{className:"font-semibold",children:"Drag"})," to move",a.jsx("br",{}),a.jsx("span",{className:"font-semibold",children:"Click"})," to open menu"]})})]}),a.jsxs(il,{align:"start",children:[a.jsxs(On,{className:"text",onClick:()=>{e&&(window.parent.postMessage({type:"add-to-chat",sectionId:e},"*"),o&&o(`Context: Section ${e}`))},children:[a.jsx(to,{className:"mr-2 h-4 w-4"}),"Add to chat"]}),a.jsxs(On,{onClick:h,children:[a.jsx(eo,{className:"mr-2 h-4 w-4"}),"Annotate"]}),a.jsx(On,{className:"text-destructive",onClick:()=>{console.log("Delete section clicked (not implemented in code mode)")},children:"Delete"})]})]})]}),a.jsx("div",{className:"flex-1 min-w-0",children:t})]})]})},Pt=({children:e,className:t="",maxWidth:n="full"})=>{const s={none:"",md:"max-w-2xl",lg:"max-w-4xl",xl:"max-w-5xl","2xl":"max-w-7xl",full:"max-w-full"};return a.jsx("div",{className:`w-full ${s[n]} ${t}`,"data-layout-type":"full-width",children:e})};/*! @license DOMPurify 3.3.0 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.0/LICENSE */const{entries:no,setPrototypeOf:Ri,isFrozen:yl,getPrototypeOf:xl,getOwnPropertyDescriptor:bl}=Object;let{freeze:we,seal:ke,create:rs}=Object,{apply:os,construct:as}=typeof Reflect<"u"&&Reflect;we||(we=function(t){return t});ke||(ke=function(t){return t});os||(os=function(t,n){for(var s=arguments.length,i=new Array(s>2?s-2:0),o=2;o<s;o++)i[o-2]=arguments[o];return t.apply(n,i)});as||(as=function(t){for(var n=arguments.length,s=new Array(n>1?n-1:0),i=1;i<n;i++)s[i-1]=arguments[i];return new t(...s)});const on=Se(Array.prototype.forEach),vl=Se(Array.prototype.lastIndexOf),Ni=Se(Array.prototype.pop),jt=Se(Array.prototype.push),Tl=Se(Array.prototype.splice),fn=Se(String.prototype.toLowerCase),In=Se(String.prototype.toString),Fn=Se(String.prototype.match),Dt=Se(String.prototype.replace),wl=Se(String.prototype.indexOf),Sl=Se(String.prototype.trim),Ve=Se(Object.prototype.hasOwnProperty),be=Se(RegExp.prototype.test),Rt=Al(TypeError);function Se(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var n=arguments.length,s=new Array(n>1?n-1:0),i=1;i<n;i++)s[i-1]=arguments[i];return os(e,t,s)}}function Al(e){return function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];return as(e,n)}}function z(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:fn;Ri&&Ri(e,null);let s=t.length;for(;s--;){let i=t[s];if(typeof i=="string"){const o=n(i);o!==i&&(yl(t)||(t[s]=o),i=o)}e[i]=!0}return e}function Cl(e){for(let t=0;t<e.length;t++)Ve(e,t)||(e[t]=null);return e}function $e(e){const t=rs(null);for(const[n,s]of no(e))Ve(e,n)&&(Array.isArray(s)?t[n]=Cl(s):s&&typeof s=="object"&&s.constructor===Object?t[n]=$e(s):t[n]=s);return t}function Nt(e,t){for(;e!==null;){const s=bl(e,t);if(s){if(s.get)return Se(s.get);if(typeof s.value=="function")return Se(s.value)}e=xl(e)}function n(){return null}return n}const ki=we(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Bn=we(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Un=we(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),El=we(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Wn=we(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),Ml=we(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Li=we(["#text"]),Vi=we(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Hn=we(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),_i=we(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),an=we(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Pl=ke(/\{\{[\w\W]*|[\w\W]*\}\}/gm),jl=ke(/<%[\w\W]*|[\w\W]*%>/gm),Dl=ke(/\$\{[\w\W]*/gm),Rl=ke(/^data-[\-\w.\u00B7-\uFFFF]+$/),Nl=ke(/^aria-[\-\w]+$/),so=ke(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),kl=ke(/^(?:\w+script|data):/i),Ll=ke(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),io=ke(/^html$/i),Vl=ke(/^[a-z][.\w]*(-[.\w]+)+$/i);var Oi=Object.freeze({__proto__:null,ARIA_ATTR:Nl,ATTR_WHITESPACE:Ll,CUSTOM_ELEMENT:Vl,DATA_ATTR:Rl,DOCTYPE_NAME:io,ERB_EXPR:jl,IS_ALLOWED_URI:so,IS_SCRIPT_OR_DATA:kl,MUSTACHE_EXPR:Pl,TMPLIT_EXPR:Dl});const kt={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},_l=function(){return typeof window>"u"?null:window},Ol=function(t,n){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let s=null;const i="data-tt-policy-suffix";n&&n.hasAttribute(i)&&(s=n.getAttribute(i));const o="dompurify"+(s?"#"+s:"");try{return t.createPolicy(o,{createHTML(r){return r},createScriptURL(r){return r}})}catch{return console.warn("TrustedTypes policy "+o+" could not be created."),null}},Ii=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function ro(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:_l();const t=I=>ro(I);if(t.version="3.3.0",t.removed=[],!e||!e.document||e.document.nodeType!==kt.document||!e.Element)return t.isSupported=!1,t;let{document:n}=e;const s=n,i=s.currentScript,{DocumentFragment:o,HTMLTemplateElement:r,Node:l,Element:c,NodeFilter:u,NamedNodeMap:h=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:d,DOMParser:f,trustedTypes:p}=e,y=c.prototype,x=Nt(y,"cloneNode"),w=Nt(y,"remove"),T=Nt(y,"nextSibling"),j=Nt(y,"childNodes"),A=Nt(y,"parentNode");if(typeof r=="function"){const I=n.createElement("template");I.content&&I.content.ownerDocument&&(n=I.content.ownerDocument)}let P,E="";const{implementation:k,createNodeIterator:O,createDocumentFragment:D,getElementsByTagName:N}=n,{importNode:M}=s;let v=Ii();t.isSupported=typeof no=="function"&&typeof A=="function"&&k&&k.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:B,ERB_EXPR:H,TMPLIT_EXPR:pe,DATA_ATTR:te,ARIA_ATTR:oe,IS_SCRIPT_OR_DATA:$,ATTR_WHITESPACE:X,CUSTOM_ELEMENT:ue}=Oi;let{IS_ALLOWED_URI:ge}=Oi,G=null;const Ae=z({},[...ki,...Bn,...Un,...Wn,...Li]);let ee=null;const at=z({},[...Vi,...Hn,..._i,...an]);let Y=Object.seal(rs(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Ce=null,b=null;const F=Object.seal(rs(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let W=!0,R=!0,C=!1,L=!0,_=!1,he=!0,de=!1,Qe=!1,jn=!1,lt=!1,Qt=!1,en=!1,ui=!0,hi=!1;const Fa="user-content-";let Dn=!0,Et=!1,ct={},ut=null;const di=z({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let fi=null;const mi=z({},["audio","video","img","source","image","track"]);let Rn=null;const pi=z({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),tn="http://www.w3.org/1998/Math/MathML",nn="http://www.w3.org/2000/svg",We="http://www.w3.org/1999/xhtml";let ht=We,Nn=!1,kn=null;const Ba=z({},[tn,nn,We],In);let sn=z({},["mi","mo","mn","ms","mtext"]),rn=z({},["annotation-xml"]);const Ua=z({},["title","style","font","a","script"]);let Mt=null;const Wa=["application/xhtml+xml","text/html"],Ha="text/html";let ae=null,dt=null;const za=n.createElement("form"),gi=function(m){return m instanceof RegExp||m instanceof Function},Ln=function(){let m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(dt&&dt===m)){if((!m||typeof m!="object")&&(m={}),m=$e(m),Mt=Wa.indexOf(m.PARSER_MEDIA_TYPE)===-1?Ha:m.PARSER_MEDIA_TYPE,ae=Mt==="application/xhtml+xml"?In:fn,G=Ve(m,"ALLOWED_TAGS")?z({},m.ALLOWED_TAGS,ae):Ae,ee=Ve(m,"ALLOWED_ATTR")?z({},m.ALLOWED_ATTR,ae):at,kn=Ve(m,"ALLOWED_NAMESPACES")?z({},m.ALLOWED_NAMESPACES,In):Ba,Rn=Ve(m,"ADD_URI_SAFE_ATTR")?z($e(pi),m.ADD_URI_SAFE_ATTR,ae):pi,fi=Ve(m,"ADD_DATA_URI_TAGS")?z($e(mi),m.ADD_DATA_URI_TAGS,ae):mi,ut=Ve(m,"FORBID_CONTENTS")?z({},m.FORBID_CONTENTS,ae):di,Ce=Ve(m,"FORBID_TAGS")?z({},m.FORBID_TAGS,ae):$e({}),b=Ve(m,"FORBID_ATTR")?z({},m.FORBID_ATTR,ae):$e({}),ct=Ve(m,"USE_PROFILES")?m.USE_PROFILES:!1,W=m.ALLOW_ARIA_ATTR!==!1,R=m.ALLOW_DATA_ATTR!==!1,C=m.ALLOW_UNKNOWN_PROTOCOLS||!1,L=m.ALLOW_SELF_CLOSE_IN_ATTR!==!1,_=m.SAFE_FOR_TEMPLATES||!1,he=m.SAFE_FOR_XML!==!1,de=m.WHOLE_DOCUMENT||!1,lt=m.RETURN_DOM||!1,Qt=m.RETURN_DOM_FRAGMENT||!1,en=m.RETURN_TRUSTED_TYPE||!1,jn=m.FORCE_BODY||!1,ui=m.SANITIZE_DOM!==!1,hi=m.SANITIZE_NAMED_PROPS||!1,Dn=m.KEEP_CONTENT!==!1,Et=m.IN_PLACE||!1,ge=m.ALLOWED_URI_REGEXP||so,ht=m.NAMESPACE||We,sn=m.MATHML_TEXT_INTEGRATION_POINTS||sn,rn=m.HTML_INTEGRATION_POINTS||rn,Y=m.CUSTOM_ELEMENT_HANDLING||{},m.CUSTOM_ELEMENT_HANDLING&&gi(m.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Y.tagNameCheck=m.CUSTOM_ELEMENT_HANDLING.tagNameCheck),m.CUSTOM_ELEMENT_HANDLING&&gi(m.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Y.attributeNameCheck=m.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),m.CUSTOM_ELEMENT_HANDLING&&typeof m.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Y.allowCustomizedBuiltInElements=m.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),_&&(R=!1),Qt&&(lt=!0),ct&&(G=z({},Li),ee=[],ct.html===!0&&(z(G,ki),z(ee,Vi)),ct.svg===!0&&(z(G,Bn),z(ee,Hn),z(ee,an)),ct.svgFilters===!0&&(z(G,Un),z(ee,Hn),z(ee,an)),ct.mathMl===!0&&(z(G,Wn),z(ee,_i),z(ee,an))),m.ADD_TAGS&&(typeof m.ADD_TAGS=="function"?F.tagCheck=m.ADD_TAGS:(G===Ae&&(G=$e(G)),z(G,m.ADD_TAGS,ae))),m.ADD_ATTR&&(typeof m.ADD_ATTR=="function"?F.attributeCheck=m.ADD_ATTR:(ee===at&&(ee=$e(ee)),z(ee,m.ADD_ATTR,ae))),m.ADD_URI_SAFE_ATTR&&z(Rn,m.ADD_URI_SAFE_ATTR,ae),m.FORBID_CONTENTS&&(ut===di&&(ut=$e(ut)),z(ut,m.FORBID_CONTENTS,ae)),Dn&&(G["#text"]=!0),de&&z(G,["html","head","body"]),G.table&&(z(G,["tbody"]),delete Ce.tbody),m.TRUSTED_TYPES_POLICY){if(typeof m.TRUSTED_TYPES_POLICY.createHTML!="function")throw Rt('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof m.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Rt('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');P=m.TRUSTED_TYPES_POLICY,E=P.createHTML("")}else P===void 0&&(P=Ol(p,i)),P!==null&&typeof E=="string"&&(E=P.createHTML(""));we&&we(m),dt=m}},yi=z({},[...Bn,...Un,...El]),xi=z({},[...Wn,...Ml]),$a=function(m){let S=A(m);(!S||!S.tagName)&&(S={namespaceURI:ht,tagName:"template"});const V=fn(m.tagName),q=fn(S.tagName);return kn[m.namespaceURI]?m.namespaceURI===nn?S.namespaceURI===We?V==="svg":S.namespaceURI===tn?V==="svg"&&(q==="annotation-xml"||sn[q]):!!yi[V]:m.namespaceURI===tn?S.namespaceURI===We?V==="math":S.namespaceURI===nn?V==="math"&&rn[q]:!!xi[V]:m.namespaceURI===We?S.namespaceURI===nn&&!rn[q]||S.namespaceURI===tn&&!sn[q]?!1:!xi[V]&&(Ua[V]||!yi[V]):!!(Mt==="application/xhtml+xml"&&kn[m.namespaceURI]):!1},Ie=function(m){jt(t.removed,{element:m});try{A(m).removeChild(m)}catch{w(m)}},et=function(m,S){try{jt(t.removed,{attribute:S.getAttributeNode(m),from:S})}catch{jt(t.removed,{attribute:null,from:S})}if(S.removeAttribute(m),m==="is")if(lt||Qt)try{Ie(S)}catch{}else try{S.setAttribute(m,"")}catch{}},bi=function(m){let S=null,V=null;if(jn)m="<remove></remove>"+m;else{const ne=Fn(m,/^[\r\n\t ]+/);V=ne&&ne[0]}Mt==="application/xhtml+xml"&&ht===We&&(m='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+m+"</body></html>");const q=P?P.createHTML(m):m;if(ht===We)try{S=new f().parseFromString(q,Mt)}catch{}if(!S||!S.documentElement){S=k.createDocument(ht,"template",null);try{S.documentElement.innerHTML=Nn?E:q}catch{}}const ye=S.body||S.documentElement;return m&&V&&ye.insertBefore(n.createTextNode(V),ye.childNodes[0]||null),ht===We?N.call(S,de?"html":"body")[0]:de?S.documentElement:ye},vi=function(m){return O.call(m.ownerDocument||m,m,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT|u.SHOW_PROCESSING_INSTRUCTION|u.SHOW_CDATA_SECTION,null)},Vn=function(m){return m instanceof d&&(typeof m.nodeName!="string"||typeof m.textContent!="string"||typeof m.removeChild!="function"||!(m.attributes instanceof h)||typeof m.removeAttribute!="function"||typeof m.setAttribute!="function"||typeof m.namespaceURI!="string"||typeof m.insertBefore!="function"||typeof m.hasChildNodes!="function")},Ti=function(m){return typeof l=="function"&&m instanceof l};function He(I,m,S){on(I,V=>{V.call(t,m,S,dt)})}const wi=function(m){let S=null;if(He(v.beforeSanitizeElements,m,null),Vn(m))return Ie(m),!0;const V=ae(m.nodeName);if(He(v.uponSanitizeElement,m,{tagName:V,allowedTags:G}),he&&m.hasChildNodes()&&!Ti(m.firstElementChild)&&be(/<[/\w!]/g,m.innerHTML)&&be(/<[/\w!]/g,m.textContent)||m.nodeType===kt.progressingInstruction||he&&m.nodeType===kt.comment&&be(/<[/\w]/g,m.data))return Ie(m),!0;if(!(F.tagCheck instanceof Function&&F.tagCheck(V))&&(!G[V]||Ce[V])){if(!Ce[V]&&Ai(V)&&(Y.tagNameCheck instanceof RegExp&&be(Y.tagNameCheck,V)||Y.tagNameCheck instanceof Function&&Y.tagNameCheck(V)))return!1;if(Dn&&!ut[V]){const q=A(m)||m.parentNode,ye=j(m)||m.childNodes;if(ye&&q){const ne=ye.length;for(let Ee=ne-1;Ee>=0;--Ee){const ze=x(ye[Ee],!0);ze.__removalCount=(m.__removalCount||0)+1,q.insertBefore(ze,T(m))}}}return Ie(m),!0}return m instanceof c&&!$a(m)||(V==="noscript"||V==="noembed"||V==="noframes")&&be(/<\/no(script|embed|frames)/i,m.innerHTML)?(Ie(m),!0):(_&&m.nodeType===kt.text&&(S=m.textContent,on([B,H,pe],q=>{S=Dt(S,q," ")}),m.textContent!==S&&(jt(t.removed,{element:m.cloneNode()}),m.textContent=S)),He(v.afterSanitizeElements,m,null),!1)},Si=function(m,S,V){if(ui&&(S==="id"||S==="name")&&(V in n||V in za))return!1;if(!(R&&!b[S]&&be(te,S))){if(!(W&&be(oe,S))){if(!(F.attributeCheck instanceof Function&&F.attributeCheck(S,m))){if(!ee[S]||b[S]){if(!(Ai(m)&&(Y.tagNameCheck instanceof RegExp&&be(Y.tagNameCheck,m)||Y.tagNameCheck instanceof Function&&Y.tagNameCheck(m))&&(Y.attributeNameCheck instanceof RegExp&&be(Y.attributeNameCheck,S)||Y.attributeNameCheck instanceof Function&&Y.attributeNameCheck(S,m))||S==="is"&&Y.allowCustomizedBuiltInElements&&(Y.tagNameCheck instanceof RegExp&&be(Y.tagNameCheck,V)||Y.tagNameCheck instanceof Function&&Y.tagNameCheck(V))))return!1}else if(!Rn[S]){if(!be(ge,Dt(V,X,""))){if(!((S==="src"||S==="xlink:href"||S==="href")&&m!=="script"&&wl(V,"data:")===0&&fi[m])){if(!(C&&!be($,Dt(V,X,"")))){if(V)return!1}}}}}}}return!0},Ai=function(m){return m!=="annotation-xml"&&Fn(m,ue)},Ci=function(m){He(v.beforeSanitizeAttributes,m,null);const{attributes:S}=m;if(!S||Vn(m))return;const V={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ee,forceKeepAttr:void 0};let q=S.length;for(;q--;){const ye=S[q],{name:ne,namespaceURI:Ee,value:ze}=ye,ft=ae(ne),_n=ze;let fe=ne==="value"?_n:Sl(_n);if(V.attrName=ft,V.attrValue=fe,V.keepAttr=!0,V.forceKeepAttr=void 0,He(v.uponSanitizeAttribute,m,V),fe=V.attrValue,hi&&(ft==="id"||ft==="name")&&(et(ne,m),fe=Fa+fe),he&&be(/((--!?|])>)|<\/(style|title|textarea)/i,fe)){et(ne,m);continue}if(ft==="attributename"&&Fn(fe,"href")){et(ne,m);continue}if(V.forceKeepAttr)continue;if(!V.keepAttr){et(ne,m);continue}if(!L&&be(/\/>/i,fe)){et(ne,m);continue}_&&on([B,H,pe],Mi=>{fe=Dt(fe,Mi," ")});const Ei=ae(m.nodeName);if(!Si(Ei,ft,fe)){et(ne,m);continue}if(P&&typeof p=="object"&&typeof p.getAttributeType=="function"&&!Ee)switch(p.getAttributeType(Ei,ft)){case"TrustedHTML":{fe=P.createHTML(fe);break}case"TrustedScriptURL":{fe=P.createScriptURL(fe);break}}if(fe!==_n)try{Ee?m.setAttributeNS(Ee,ne,fe):m.setAttribute(ne,fe),Vn(m)?Ie(m):Ni(t.removed)}catch{et(ne,m)}}He(v.afterSanitizeAttributes,m,null)},Ga=function I(m){let S=null;const V=vi(m);for(He(v.beforeSanitizeShadowDOM,m,null);S=V.nextNode();)He(v.uponSanitizeShadowNode,S,null),wi(S),Ci(S),S.content instanceof o&&I(S.content);He(v.afterSanitizeShadowDOM,m,null)};return t.sanitize=function(I){let m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},S=null,V=null,q=null,ye=null;if(Nn=!I,Nn&&(I="<!-->"),typeof I!="string"&&!Ti(I))if(typeof I.toString=="function"){if(I=I.toString(),typeof I!="string")throw Rt("dirty is not a string, aborting")}else throw Rt("toString is not a function");if(!t.isSupported)return I;if(Qe||Ln(m),t.removed=[],typeof I=="string"&&(Et=!1),Et){if(I.nodeName){const ze=ae(I.nodeName);if(!G[ze]||Ce[ze])throw Rt("root node is forbidden and cannot be sanitized in-place")}}else if(I instanceof l)S=bi("<!---->"),V=S.ownerDocument.importNode(I,!0),V.nodeType===kt.element&&V.nodeName==="BODY"||V.nodeName==="HTML"?S=V:S.appendChild(V);else{if(!lt&&!_&&!de&&I.indexOf("<")===-1)return P&&en?P.createHTML(I):I;if(S=bi(I),!S)return lt?null:en?E:""}S&&jn&&Ie(S.firstChild);const ne=vi(Et?I:S);for(;q=ne.nextNode();)wi(q),Ci(q),q.content instanceof o&&Ga(q.content);if(Et)return I;if(lt){if(Qt)for(ye=D.call(S.ownerDocument);S.firstChild;)ye.appendChild(S.firstChild);else ye=S;return(ee.shadowroot||ee.shadowrootmode)&&(ye=M.call(s,ye,!0)),ye}let Ee=de?S.outerHTML:S.innerHTML;return de&&G["!doctype"]&&S.ownerDocument&&S.ownerDocument.doctype&&S.ownerDocument.doctype.name&&be(io,S.ownerDocument.doctype.name)&&(Ee="<!DOCTYPE "+S.ownerDocument.doctype.name+`>
`+Ee),_&&on([B,H,pe],ze=>{Ee=Dt(Ee,ze," ")}),P&&en?P.createHTML(Ee):Ee},t.setConfig=function(){let I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Ln(I),Qe=!0},t.clearConfig=function(){dt=null,Qe=!1},t.isValidAttribute=function(I,m,S){dt||Ln({});const V=ae(I),q=ae(m);return Si(V,q,S)},t.addHook=function(I,m){typeof m=="function"&&jt(v[I],m)},t.removeHook=function(I,m){if(m!==void 0){const S=vl(v[I],m);return S===-1?void 0:Tl(v[I],S,1)[0]}return Ni(v[I])},t.removeHooks=function(I){v[I]=[]},t.removeAllHooks=function(){v=Ii()},t}var Il=ro();const ce=({children:e,level:t=1,className:n="",enableMath:s=!0})=>{const i=g.useRef(null);g.useEffect(()=>{if(!s)return;const l=i.current,c=window.MathJax;if(!(!l||!c))try{c.typesetPromise?c.typesetPromise([l]).catch(()=>{}):c.typeset&&c.typeset([l])}catch{}},[e,s]);const r=`${{1:"text-4xl font-bold mb-4",2:"text-3xl font-bold mb-3",3:"text-2xl font-semibold mb-3",4:"text-xl font-semibold mb-2",5:"text-lg font-semibold mb-2",6:"text-base font-semibold mb-2"}[t]} ${s?"mathjax-process":"no-mathjax"} ${n}`.trim();if(typeof e=="string"){const l=Il.sanitize(e,{USE_PROFILES:{html:!0}});switch(t){case 1:return a.jsx("h1",{ref:i,className:r,dangerouslySetInnerHTML:{__html:l}});case 2:return a.jsx("h2",{ref:i,className:r,dangerouslySetInnerHTML:{__html:l}});case 3:return a.jsx("h3",{ref:i,className:r,dangerouslySetInnerHTML:{__html:l}});case 4:return a.jsx("h4",{ref:i,className:r,dangerouslySetInnerHTML:{__html:l}});case 5:return a.jsx("h5",{ref:i,className:r,dangerouslySetInnerHTML:{__html:l}});case 6:return a.jsx("h6",{ref:i,className:r,dangerouslySetInnerHTML:{__html:l}});default:return a.jsx("h1",{ref:i,className:r,dangerouslySetInnerHTML:{__html:l}})}}switch(t){case 1:return a.jsx("h1",{ref:i,className:r,children:e});case 2:return a.jsx("h2",{ref:i,className:r,children:e});case 3:return a.jsx("h3",{ref:i,className:r,children:e});case 4:return a.jsx("h4",{ref:i,className:r,children:e});case 5:return a.jsx("h5",{ref:i,className:r,children:e});case 6:return a.jsx("h6",{ref:i,className:r,children:e});default:return a.jsx("h1",{ref:i,className:r,children:e})}},re=({children:e,className:t="",enableMath:n=!0})=>{const s=g.useRef(null);return g.useEffect(()=>{if(!n)return;const i=s.current,o=window.MathJax;if(!(!i||!o))try{o.typesetPromise?o.typesetPromise([i]).catch(()=>{}):o.typeset&&o.typeset([i])}catch{}},[e,n]),a.jsx("p",{ref:s,className:`text-base leading-relaxed ${n?"mathjax-process":"no-mathjax"} ${t}`,children:e})},Rs=g.createContext({});function Ns(e){const t=g.useRef(null);return t.current===null&&(t.current=e()),t.current}const ks=typeof window<"u",oo=ks?g.useLayoutEffect:g.useEffect,Cn=g.createContext(null);function Ls(e,t){e.indexOf(t)===-1&&e.push(t)}function Vs(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Ke=(e,t,n)=>n>t?t:n<e?e:n;let xn=()=>{};const Ye={},ao=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function lo(e){return typeof e=="object"&&e!==null}const co=e=>/^0[^.\s]+$/u.test(e);function _s(e){let t;return()=>(t===void 0&&(t=e()),t)}const Re=e=>e,Fl=(e,t)=>n=>t(e(n)),Gt=(...e)=>e.reduce(Fl),Bt=(e,t,n)=>{const s=t-e;return s===0?1:(n-e)/s};class Os{constructor(){this.subscriptions=[]}add(t){return Ls(this.subscriptions,t),()=>Vs(this.subscriptions,t)}notify(t,n,s){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,s);else for(let o=0;o<i;o++){const r=this.subscriptions[o];r&&r(t,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Fe=e=>e*1e3,De=e=>e/1e3;function uo(e,t){return t?e*(1e3/t):0}const ho=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,Bl=1e-7,Ul=12;function Wl(e,t,n,s,i){let o,r,l=0;do r=t+(n-t)/2,o=ho(r,s,i)-e,o>0?n=r:t=r;while(Math.abs(o)>Bl&&++l<Ul);return r}function Kt(e,t,n,s){if(e===t&&n===s)return Re;const i=o=>Wl(o,0,1,e,n);return o=>o===0||o===1?o:ho(i(o),t,s)}const fo=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,mo=e=>t=>1-e(1-t),po=Kt(.33,1.53,.69,.99),Is=mo(po),go=fo(Is),yo=e=>(e*=2)<1?.5*Is(e):.5*(2-Math.pow(2,-10*(e-1))),Fs=e=>1-Math.sin(Math.acos(e)),xo=mo(Fs),bo=fo(Fs),Hl=Kt(.42,0,1,1),zl=Kt(0,0,.58,1),vo=Kt(.42,0,.58,1),$l=e=>Array.isArray(e)&&typeof e[0]!="number",To=e=>Array.isArray(e)&&typeof e[0]=="number",Fi={linear:Re,easeIn:Hl,easeInOut:vo,easeOut:zl,circIn:Fs,circInOut:bo,circOut:xo,backIn:Is,backInOut:go,backOut:po,anticipate:yo},Gl=e=>typeof e=="string",Bi=e=>{if(To(e)){xn(e.length===4);const[t,n,s,i]=e;return Kt(t,n,s,i)}else if(Gl(e))return xn(Fi[e]!==void 0),Fi[e];return e},ln=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],Ui={value:null,addProjectionMetrics:null};function Kl(e,t){let n=new Set,s=new Set,i=!1,o=!1;const r=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1},c=0;function u(d){r.has(d)&&(h.schedule(d),e()),c++,d(l)}const h={schedule:(d,f=!1,p=!1)=>{const x=p&&i?n:s;return f&&r.add(d),x.has(d)||x.add(d),d},cancel:d=>{s.delete(d),r.delete(d)},process:d=>{if(l=d,i){o=!0;return}i=!0,[n,s]=[s,n],n.forEach(u),t&&Ui.value&&Ui.value.frameloop[t].push(c),c=0,n.clear(),i=!1,o&&(o=!1,h.process(d))}};return h}const Yl=40;function wo(e,t){let n=!1,s=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,r=ln.reduce((A,P)=>(A[P]=Kl(o,t?P:void 0),A),{}),{setup:l,read:c,resolveKeyframes:u,preUpdate:h,update:d,preRender:f,render:p,postRender:y}=r,x=()=>{const A=Ye.useManualTiming?i.timestamp:performance.now();n=!1,Ye.useManualTiming||(i.delta=s?1e3/60:Math.max(Math.min(A-i.timestamp,Yl),1)),i.timestamp=A,i.isProcessing=!0,l.process(i),c.process(i),u.process(i),h.process(i),d.process(i),f.process(i),p.process(i),y.process(i),i.isProcessing=!1,n&&t&&(s=!1,e(x))},w=()=>{n=!0,s=!0,i.isProcessing||e(x)};return{schedule:ln.reduce((A,P)=>{const E=r[P];return A[P]=(k,O=!1,D=!1)=>(n||w(),E.schedule(k,O,D)),A},{}),cancel:A=>{for(let P=0;P<ln.length;P++)r[ln[P]].cancel(A)},state:i,steps:r}}const{schedule:Z,cancel:qe,state:me,steps:zn}=wo(typeof requestAnimationFrame<"u"?requestAnimationFrame:Re,!0);let mn;function Xl(){mn=void 0}const Pe={now:()=>(mn===void 0&&Pe.set(me.isProcessing||Ye.useManualTiming?me.timestamp:performance.now()),mn),set:e=>{mn=e,queueMicrotask(Xl)}},So=e=>t=>typeof t=="string"&&t.startsWith(e),Bs=So("--"),ql=So("var(--"),Us=e=>ql(e)?Zl.test(e.split("/*")[0].trim()):!1,Zl=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,St={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Ut={...St,transform:e=>Ke(0,1,e)},cn={...St,default:1},_t=e=>Math.round(e*1e5)/1e5,Ws=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Jl(e){return e==null}const Ql=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Hs=(e,t)=>n=>!!(typeof n=="string"&&Ql.test(n)&&n.startsWith(e)||t&&!Jl(n)&&Object.prototype.hasOwnProperty.call(n,t)),Ao=(e,t,n)=>s=>{if(typeof s!="string")return s;const[i,o,r,l]=s.match(Ws);return{[e]:parseFloat(i),[t]:parseFloat(o),[n]:parseFloat(r),alpha:l!==void 0?parseFloat(l):1}},ec=e=>Ke(0,255,e),$n={...St,transform:e=>Math.round(ec(e))},st={test:Hs("rgb","red"),parse:Ao("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:s=1})=>"rgba("+$n.transform(e)+", "+$n.transform(t)+", "+$n.transform(n)+", "+_t(Ut.transform(s))+")"};function tc(e){let t="",n="",s="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),s=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),s=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,s+=s,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:i?parseInt(i,16)/255:1}}const ls={test:Hs("#"),parse:tc,transform:st.transform},Yt=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Xe=Yt("deg"),Be=Yt("%"),U=Yt("px"),nc=Yt("vh"),sc=Yt("vw"),Wi={...Be,parse:e=>Be.parse(e)/100,transform:e=>Be.transform(e*100)},mt={test:Hs("hsl","hue"),parse:Ao("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:s=1})=>"hsla("+Math.round(e)+", "+Be.transform(_t(t))+", "+Be.transform(_t(n))+", "+_t(Ut.transform(s))+")"},se={test:e=>st.test(e)||ls.test(e)||mt.test(e),parse:e=>st.test(e)?st.parse(e):mt.test(e)?mt.parse(e):ls.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?st.transform(e):mt.transform(e),getAnimatableNone:e=>{const t=se.parse(e);return t.alpha=0,se.transform(t)}},ic=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function rc(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Ws))==null?void 0:t.length)||0)+(((n=e.match(ic))==null?void 0:n.length)||0)>0}const Co="number",Eo="color",oc="var",ac="var(",Hi="${}",lc=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Wt(e){const t=e.toString(),n=[],s={color:[],number:[],var:[]},i=[];let o=0;const l=t.replace(lc,c=>(se.test(c)?(s.color.push(o),i.push(Eo),n.push(se.parse(c))):c.startsWith(ac)?(s.var.push(o),i.push(oc),n.push(c)):(s.number.push(o),i.push(Co),n.push(parseFloat(c))),++o,Hi)).split(Hi);return{values:n,split:l,indexes:s,types:i}}function Mo(e){return Wt(e).values}function Po(e){const{split:t,types:n}=Wt(e),s=t.length;return i=>{let o="";for(let r=0;r<s;r++)if(o+=t[r],i[r]!==void 0){const l=n[r];l===Co?o+=_t(i[r]):l===Eo?o+=se.transform(i[r]):o+=i[r]}return o}}const cc=e=>typeof e=="number"?0:se.test(e)?se.getAnimatableNone(e):e;function uc(e){const t=Mo(e);return Po(e)(t.map(cc))}const Ze={test:rc,parse:Mo,createTransformer:Po,getAnimatableNone:uc};function Gn(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function hc({hue:e,saturation:t,lightness:n,alpha:s}){e/=360,t/=100,n/=100;let i=0,o=0,r=0;if(!t)i=o=r=n;else{const l=n<.5?n*(1+t):n+t-n*t,c=2*n-l;i=Gn(c,l,e+1/3),o=Gn(c,l,e),r=Gn(c,l,e-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(r*255),alpha:s}}function bn(e,t){return n=>n>0?t:e}const J=(e,t,n)=>e+(t-e)*n,Kn=(e,t,n)=>{const s=e*e,i=n*(t*t-s)+s;return i<0?0:Math.sqrt(i)},dc=[ls,st,mt],fc=e=>dc.find(t=>t.test(e));function zi(e){const t=fc(e);if(!t)return!1;let n=t.parse(e);return t===mt&&(n=hc(n)),n}const $i=(e,t)=>{const n=zi(e),s=zi(t);if(!n||!s)return bn(e,t);const i={...n};return o=>(i.red=Kn(n.red,s.red,o),i.green=Kn(n.green,s.green,o),i.blue=Kn(n.blue,s.blue,o),i.alpha=J(n.alpha,s.alpha,o),st.transform(i))},cs=new Set(["none","hidden"]);function mc(e,t){return cs.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function pc(e,t){return n=>J(e,t,n)}function zs(e){return typeof e=="number"?pc:typeof e=="string"?Us(e)?bn:se.test(e)?$i:xc:Array.isArray(e)?jo:typeof e=="object"?se.test(e)?$i:gc:bn}function jo(e,t){const n=[...e],s=n.length,i=e.map((o,r)=>zs(o)(o,t[r]));return o=>{for(let r=0;r<s;r++)n[r]=i[r](o);return n}}function gc(e,t){const n={...e,...t},s={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(s[i]=zs(e[i])(e[i],t[i]));return i=>{for(const o in s)n[o]=s[o](i);return n}}function yc(e,t){const n=[],s={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const o=t.types[i],r=e.indexes[o][s[o]],l=e.values[r]??0;n[i]=l,s[o]++}return n}const xc=(e,t)=>{const n=Ze.createTransformer(t),s=Wt(e),i=Wt(t);return s.indexes.var.length===i.indexes.var.length&&s.indexes.color.length===i.indexes.color.length&&s.indexes.number.length>=i.indexes.number.length?cs.has(e)&&!i.values.length||cs.has(t)&&!s.values.length?mc(e,t):Gt(jo(yc(s,i),i.values),n):bn(e,t)};function Do(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?J(e,t,n):zs(e)(e,t)}const bc=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>Z.update(t,n),stop:()=>qe(t),now:()=>me.isProcessing?me.timestamp:Pe.now()}},Ro=(e,t,n=10)=>{let s="";const i=Math.max(Math.round(t/n),2);for(let o=0;o<i;o++)s+=Math.round(e(o/(i-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},vn=2e4;function $s(e){let t=0;const n=50;let s=e.next(t);for(;!s.done&&t<vn;)t+=n,s=e.next(t);return t>=vn?1/0:t}function vc(e,t=100,n){const s=n({...e,keyframes:[0,t]}),i=Math.min($s(s),vn);return{type:"keyframes",ease:o=>s.next(i*o).value/t,duration:De(i)}}const Tc=5;function No(e,t,n){const s=Math.max(t-Tc,0);return uo(n-e(s),t-s)}const Q={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Yn=.001;function wc({duration:e=Q.duration,bounce:t=Q.bounce,velocity:n=Q.velocity,mass:s=Q.mass}){let i,o,r=1-t;r=Ke(Q.minDamping,Q.maxDamping,r),e=Ke(Q.minDuration,Q.maxDuration,De(e)),r<1?(i=u=>{const h=u*r,d=h*e,f=h-n,p=us(u,r),y=Math.exp(-d);return Yn-f/p*y},o=u=>{const d=u*r*e,f=d*n+n,p=Math.pow(r,2)*Math.pow(u,2)*e,y=Math.exp(-d),x=us(Math.pow(u,2),r);return(-i(u)+Yn>0?-1:1)*((f-p)*y)/x}):(i=u=>{const h=Math.exp(-u*e),d=(u-n)*e+1;return-Yn+h*d},o=u=>{const h=Math.exp(-u*e),d=(n-u)*(e*e);return h*d});const l=5/e,c=Ac(i,o,l);if(e=Fe(e),isNaN(c))return{stiffness:Q.stiffness,damping:Q.damping,duration:e};{const u=Math.pow(c,2)*s;return{stiffness:u,damping:r*2*Math.sqrt(s*u),duration:e}}}const Sc=12;function Ac(e,t,n){let s=n;for(let i=1;i<Sc;i++)s=s-e(s)/t(s);return s}function us(e,t){return e*Math.sqrt(1-t*t)}const Cc=["duration","bounce"],Ec=["stiffness","damping","mass"];function Gi(e,t){return t.some(n=>e[n]!==void 0)}function Mc(e){let t={velocity:Q.velocity,stiffness:Q.stiffness,damping:Q.damping,mass:Q.mass,isResolvedFromDuration:!1,...e};if(!Gi(e,Ec)&&Gi(e,Cc))if(e.visualDuration){const n=e.visualDuration,s=2*Math.PI/(n*1.2),i=s*s,o=2*Ke(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:Q.mass,stiffness:i,damping:o}}else{const n=wc(e);t={...t,...n,mass:Q.mass},t.isResolvedFromDuration=!0}return t}function Tn(e=Q.visualDuration,t=Q.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:s,restDelta:i}=n;const o=n.keyframes[0],r=n.keyframes[n.keyframes.length-1],l={done:!1,value:o},{stiffness:c,damping:u,mass:h,duration:d,velocity:f,isResolvedFromDuration:p}=Mc({...n,velocity:-De(n.velocity||0)}),y=f||0,x=u/(2*Math.sqrt(c*h)),w=r-o,T=De(Math.sqrt(c/h)),j=Math.abs(w)<5;s||(s=j?Q.restSpeed.granular:Q.restSpeed.default),i||(i=j?Q.restDelta.granular:Q.restDelta.default);let A;if(x<1){const E=us(T,x);A=k=>{const O=Math.exp(-x*T*k);return r-O*((y+x*T*w)/E*Math.sin(E*k)+w*Math.cos(E*k))}}else if(x===1)A=E=>r-Math.exp(-T*E)*(w+(y+T*w)*E);else{const E=T*Math.sqrt(x*x-1);A=k=>{const O=Math.exp(-x*T*k),D=Math.min(E*k,300);return r-O*((y+x*T*w)*Math.sinh(D)+E*w*Math.cosh(D))/E}}const P={calculatedDuration:p&&d||null,next:E=>{const k=A(E);if(p)l.done=E>=d;else{let O=E===0?y:0;x<1&&(O=E===0?Fe(y):No(A,E,k));const D=Math.abs(O)<=s,N=Math.abs(r-k)<=i;l.done=D&&N}return l.value=l.done?r:k,l},toString:()=>{const E=Math.min($s(P),vn),k=Ro(O=>P.next(E*O).value,E,30);return E+"ms "+k},toTransition:()=>{}};return P}Tn.applyToOptions=e=>{const t=vc(e,100,Tn);return e.ease=t.ease,e.duration=Fe(t.duration),e.type="keyframes",e};function hs({keyframes:e,velocity:t=0,power:n=.8,timeConstant:s=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:r,min:l,max:c,restDelta:u=.5,restSpeed:h}){const d=e[0],f={done:!1,value:d},p=D=>l!==void 0&&D<l||c!==void 0&&D>c,y=D=>l===void 0?c:c===void 0||Math.abs(l-D)<Math.abs(c-D)?l:c;let x=n*t;const w=d+x,T=r===void 0?w:r(w);T!==w&&(x=T-d);const j=D=>-x*Math.exp(-D/s),A=D=>T+j(D),P=D=>{const N=j(D),M=A(D);f.done=Math.abs(N)<=u,f.value=f.done?T:M};let E,k;const O=D=>{p(f.value)&&(E=D,k=Tn({keyframes:[f.value,y(f.value)],velocity:No(A,D,f.value),damping:i,stiffness:o,restDelta:u,restSpeed:h}))};return O(0),{calculatedDuration:null,next:D=>{let N=!1;return!k&&E===void 0&&(N=!0,P(D),O(D)),E!==void 0&&D>=E?k.next(D-E):(!N&&P(D),f)}}}function Pc(e,t,n){const s=[],i=n||Ye.mix||Do,o=e.length-1;for(let r=0;r<o;r++){let l=i(e[r],e[r+1]);if(t){const c=Array.isArray(t)?t[r]||Re:t;l=Gt(c,l)}s.push(l)}return s}function jc(e,t,{clamp:n=!0,ease:s,mixer:i}={}){const o=e.length;if(xn(o===t.length),o===1)return()=>t[0];if(o===2&&t[0]===t[1])return()=>t[1];const r=e[0]===e[1];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=Pc(t,s,i),c=l.length,u=h=>{if(r&&h<e[0])return t[0];let d=0;if(c>1)for(;d<e.length-2&&!(h<e[d+1]);d++);const f=Bt(e[d],e[d+1],h);return l[d](f)};return n?h=>u(Ke(e[0],e[o-1],h)):u}function Dc(e,t){const n=e[e.length-1];for(let s=1;s<=t;s++){const i=Bt(0,t,s);e.push(J(n,1,i))}}function Rc(e){const t=[0];return Dc(t,e.length-1),t}function Nc(e,t){return e.map(n=>n*t)}function kc(e,t){return e.map(()=>t||vo).splice(0,e.length-1)}function Ot({duration:e=300,keyframes:t,times:n,ease:s="easeInOut"}){const i=$l(s)?s.map(Bi):Bi(s),o={done:!1,value:t[0]},r=Nc(n&&n.length===t.length?n:Rc(t),e),l=jc(r,t,{ease:Array.isArray(i)?i:kc(t,i)});return{calculatedDuration:e,next:c=>(o.value=l(c),o.done=c>=e,o)}}const Lc=e=>e!==null;function Gs(e,{repeat:t,repeatType:n="loop"},s,i=1){const o=e.filter(Lc),l=i<0||t&&n!=="loop"&&t%2===1?0:o.length-1;return!l||s===void 0?o[l]:s}const Vc={decay:hs,inertia:hs,tween:Ot,keyframes:Ot,spring:Tn};function ko(e){typeof e.type=="string"&&(e.type=Vc[e.type])}class Ks{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const _c=e=>e/100;class Ys extends Ks{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var s,i;const{motionValue:n}=this.options;n&&n.updatedAt!==Pe.now()&&this.tick(Pe.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(s=this.options).onStop)==null||i.call(s))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;ko(t);const{type:n=Ot,repeat:s=0,repeatDelay:i=0,repeatType:o,velocity:r=0}=t;let{keyframes:l}=t;const c=n||Ot;c!==Ot&&typeof l[0]!="number"&&(this.mixKeyframes=Gt(_c,Do(l[0],l[1])),l=[0,100]);const u=c({...t,keyframes:l});o==="mirror"&&(this.mirroredGenerator=c({...t,keyframes:[...l].reverse(),velocity:-r})),u.calculatedDuration===null&&(u.calculatedDuration=$s(u));const{calculatedDuration:h}=u;this.calculatedDuration=h,this.resolvedDuration=h+i,this.totalDuration=this.resolvedDuration*(s+1)-i,this.generator=u}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:s,totalDuration:i,mixKeyframes:o,mirroredGenerator:r,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return s.next(0);const{delay:u=0,keyframes:h,repeat:d,repeatType:f,repeatDelay:p,type:y,onUpdate:x,finalKeyframe:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-i/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const T=this.currentTime-u*(this.playbackSpeed>=0?1:-1),j=this.playbackSpeed>=0?T<0:T>i;this.currentTime=Math.max(T,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let A=this.currentTime,P=s;if(d){const D=Math.min(this.currentTime,i)/l;let N=Math.floor(D),M=D%1;!M&&D>=1&&(M=1),M===1&&N--,N=Math.min(N,d+1),!!(N%2)&&(f==="reverse"?(M=1-M,p&&(M-=p/l)):f==="mirror"&&(P=r)),A=Ke(0,1,M)*l}const E=j?{done:!1,value:h[0]}:P.next(A);o&&(E.value=o(E.value));let{done:k}=E;!j&&c!==null&&(k=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const O=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&k);return O&&y!==hs&&(E.value=Gs(h,this.options,w,this.speed)),x&&x(E.value),O&&this.finish(),E}then(t,n){return this.finished.then(t,n)}get duration(){return De(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+De(t)}get time(){return De(this.currentTime)}set time(t){var n;t=Fe(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Pe.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=De(this.currentTime))}play(){var i,o;if(this.isStopped)return;const{driver:t=bc,startTime:n}=this.options;this.driver||(this.driver=t(r=>this.tick(r))),(o=(i=this.options).onPlay)==null||o.call(i);const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Pe.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function Oc(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const it=e=>e*180/Math.PI,ds=e=>{const t=it(Math.atan2(e[1],e[0]));return fs(t)},Ic={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:ds,rotateZ:ds,skewX:e=>it(Math.atan(e[1])),skewY:e=>it(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},fs=e=>(e=e%360,e<0&&(e+=360),e),Ki=ds,Yi=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),Xi=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),Fc={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Yi,scaleY:Xi,scale:e=>(Yi(e)+Xi(e))/2,rotateX:e=>fs(it(Math.atan2(e[6],e[5]))),rotateY:e=>fs(it(Math.atan2(-e[2],e[0]))),rotateZ:Ki,rotate:Ki,skewX:e=>it(Math.atan(e[4])),skewY:e=>it(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function ms(e){return e.includes("scale")?1:0}function ps(e,t){if(!e||e==="none")return ms(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,i;if(n)s=Fc,i=n;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=Ic,i=l}if(!i)return ms(t);const o=s[t],r=i[1].split(",").map(Uc);return typeof o=="function"?o(r):r[o]}const Bc=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return ps(n,t)};function Uc(e){return parseFloat(e.trim())}const At=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ct=new Set(At),qi=e=>e===St||e===U,Wc=new Set(["x","y","z"]),Hc=At.filter(e=>!Wc.has(e));function zc(e){const t=[];return Hc.forEach(n=>{const s=e.getValue(n);s!==void 0&&(t.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),t}const rt={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>ps(t,"x"),y:(e,{transform:t})=>ps(t,"y")};rt.translateX=rt.x;rt.translateY=rt.y;const ot=new Set;let gs=!1,ys=!1,xs=!1;function Lo(){if(ys){const e=Array.from(ot).filter(s=>s.needsMeasurement),t=new Set(e.map(s=>s.element)),n=new Map;t.forEach(s=>{const i=zc(s);i.length&&(n.set(s,i),s.render())}),e.forEach(s=>s.measureInitialState()),t.forEach(s=>{s.render();const i=n.get(s);i&&i.forEach(([o,r])=>{var l;(l=s.getValue(o))==null||l.set(r)})}),e.forEach(s=>s.measureEndState()),e.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}ys=!1,gs=!1,ot.forEach(e=>e.complete(xs)),ot.clear()}function Vo(){ot.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(ys=!0)})}function $c(){xs=!0,Vo(),Lo(),xs=!1}class Xs{constructor(t,n,s,i,o,r=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=s,this.motionValue=i,this.element=o,this.isAsync=r}scheduleResolve(){this.state="scheduled",this.isAsync?(ot.add(this),gs||(gs=!0,Z.read(Vo),Z.resolveKeyframes(Lo))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:s,motionValue:i}=this;if(t[0]===null){const o=i==null?void 0:i.get(),r=t[t.length-1];if(o!==void 0)t[0]=o;else if(s&&n){const l=s.readValue(n,r);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=r),i&&o===void 0&&i.set(t[0])}Oc(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),ot.delete(this)}cancel(){this.state==="scheduled"&&(ot.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Gc=e=>e.startsWith("--");function Kc(e,t,n){Gc(t)?e.style.setProperty(t,n):e.style[t]=n}const Yc=_s(()=>window.ScrollTimeline!==void 0),Xc={};function qc(e,t){const n=_s(e);return()=>Xc[t]??n()}const _o=qc(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Vt=([e,t,n,s])=>`cubic-bezier(${e}, ${t}, ${n}, ${s})`,Zi={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Vt([0,.65,.55,1]),circOut:Vt([.55,0,1,.45]),backIn:Vt([.31,.01,.66,-.59]),backOut:Vt([.33,1.53,.69,.99])};function Oo(e,t){if(e)return typeof e=="function"?_o()?Ro(e,t):"ease-out":To(e)?Vt(e):Array.isArray(e)?e.map(n=>Oo(n,t)||Zi.easeOut):Zi[e]}function Zc(e,t,n,{delay:s=0,duration:i=300,repeat:o=0,repeatType:r="loop",ease:l="easeOut",times:c}={},u=void 0){const h={[t]:n};c&&(h.offset=c);const d=Oo(l,i);Array.isArray(d)&&(h.easing=d);const f={delay:s,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:o+1,direction:r==="reverse"?"alternate":"normal"};return u&&(f.pseudoElement=u),e.animate(h,f)}function Io(e){return typeof e=="function"&&"applyToOptions"in e}function Jc({type:e,...t}){return Io(e)&&_o()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class Qc extends Ks{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:s,keyframes:i,pseudoElement:o,allowFlatten:r=!1,finalKeyframe:l,onComplete:c}=t;this.isPseudoElement=!!o,this.allowFlatten=r,this.options=t,xn(typeof t.type!="string");const u=Jc(t);this.animation=Zc(n,s,i,u,o),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const h=Gs(i,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(h):Kc(n,s,h),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,s;const t=((s=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:s.call(n).duration)||0;return De(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+De(t)}get time(){return De(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Fe(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var s;return this.allowFlatten&&((s=this.animation.effect)==null||s.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&Yc()?(this.animation.timeline=t,Re):n(this)}}const Fo={anticipate:yo,backInOut:go,circInOut:bo};function eu(e){return e in Fo}function tu(e){typeof e.ease=="string"&&eu(e.ease)&&(e.ease=Fo[e.ease])}const Ji=10;class nu extends Qc{constructor(t){tu(t),ko(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:s,onComplete:i,element:o,...r}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const l=new Ys({...r,autoplay:!1}),c=Fe(this.finishedTime??this.time);n.setWithVelocity(l.sample(c-Ji).value,l.sample(c).value,Ji),l.stop()}}const Qi=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Ze.test(e)||e==="0")&&!e.startsWith("url("));function su(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function iu(e,t,n,s){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const o=e[e.length-1],r=Qi(i,t),l=Qi(o,t);return!r||!l?!1:su(e)||(n==="spring"||Io(n))&&s}function bs(e){e.duration=0,e.type="keyframes"}const ru=new Set(["opacity","clipPath","filter","transform"]),ou=_s(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function au(e){var h;const{motionValue:t,name:n,repeatDelay:s,repeatType:i,damping:o,type:r}=e;if(!(((h=t==null?void 0:t.owner)==null?void 0:h.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=t.owner.getProps();return ou()&&n&&ru.has(n)&&(n!=="transform"||!u)&&!c&&!s&&i!=="mirror"&&o!==0&&r!=="inertia"}const lu=40;class cu extends Ks{constructor({autoplay:t=!0,delay:n=0,type:s="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:r="loop",keyframes:l,name:c,motionValue:u,element:h,...d}){var y;super(),this.stop=()=>{var x,w;this._animation&&(this._animation.stop(),(x=this.stopTimeline)==null||x.call(this)),(w=this.keyframeResolver)==null||w.cancel()},this.createdAt=Pe.now();const f={autoplay:t,delay:n,type:s,repeat:i,repeatDelay:o,repeatType:r,name:c,motionValue:u,element:h,...d},p=(h==null?void 0:h.KeyframeResolver)||Xs;this.keyframeResolver=new p(l,(x,w,T)=>this.onKeyframesResolved(x,w,f,!T),c,u,h),(y=this.keyframeResolver)==null||y.scheduleResolve()}onKeyframesResolved(t,n,s,i){this.keyframeResolver=void 0;const{name:o,type:r,velocity:l,delay:c,isHandoff:u,onUpdate:h}=s;this.resolvedAt=Pe.now(),iu(t,o,r,l)||((Ye.instantAnimations||!c)&&(h==null||h(Gs(t,s,n))),t[0]=t[t.length-1],bs(s),s.repeat=0);const f={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>lu?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:t},p=!u&&au(f)?new nu({...f,element:f.motionValue.owner.current}):new Ys(f);p.finished.then(()=>this.notifyFinished()).catch(Re),this.pendingTimeline&&(this.stopTimeline=p.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=p}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),$c()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const uu=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function hu(e){const t=uu.exec(e);if(!t)return[,];const[,n,s,i]=t;return[`--${n??s}`,i]}function Bo(e,t,n=1){const[s,i]=hu(e);if(!s)return;const o=window.getComputedStyle(t).getPropertyValue(s);if(o){const r=o.trim();return ao(r)?parseFloat(r):r}return Us(i)?Bo(i,t,n+1):i}function qs(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const Uo=new Set(["width","height","top","left","right","bottom",...At]),du={test:e=>e==="auto",parse:e=>e},Wo=e=>t=>t.test(e),Ho=[St,U,Be,Xe,sc,nc,du],er=e=>Ho.find(Wo(e));function fu(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||co(e):!0}const mu=new Set(["brightness","contrast","saturate","opacity"]);function pu(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[s]=n.match(Ws)||[];if(!s)return e;const i=n.replace(s,"");let o=mu.has(t)?1:0;return s!==n&&(o*=100),t+"("+o+i+")"}const gu=/\b([a-z-]*)\(.*?\)/gu,vs={...Ze,getAnimatableNone:e=>{const t=e.match(gu);return t?t.map(pu).join(" "):e}},tr={...St,transform:Math.round},yu={rotate:Xe,rotateX:Xe,rotateY:Xe,rotateZ:Xe,scale:cn,scaleX:cn,scaleY:cn,scaleZ:cn,skew:Xe,skewX:Xe,skewY:Xe,distance:U,translateX:U,translateY:U,translateZ:U,x:U,y:U,z:U,perspective:U,transformPerspective:U,opacity:Ut,originX:Wi,originY:Wi,originZ:U},Zs={borderWidth:U,borderTopWidth:U,borderRightWidth:U,borderBottomWidth:U,borderLeftWidth:U,borderRadius:U,radius:U,borderTopLeftRadius:U,borderTopRightRadius:U,borderBottomRightRadius:U,borderBottomLeftRadius:U,width:U,maxWidth:U,height:U,maxHeight:U,top:U,right:U,bottom:U,left:U,padding:U,paddingTop:U,paddingRight:U,paddingBottom:U,paddingLeft:U,margin:U,marginTop:U,marginRight:U,marginBottom:U,marginLeft:U,backgroundPositionX:U,backgroundPositionY:U,...yu,zIndex:tr,fillOpacity:Ut,strokeOpacity:Ut,numOctaves:tr},xu={...Zs,color:se,backgroundColor:se,outlineColor:se,fill:se,stroke:se,borderColor:se,borderTopColor:se,borderRightColor:se,borderBottomColor:se,borderLeftColor:se,filter:vs,WebkitFilter:vs},zo=e=>xu[e];function $o(e,t){let n=zo(e);return n!==vs&&(n=Ze),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const bu=new Set(["auto","none","0"]);function vu(e,t,n){let s=0,i;for(;s<e.length&&!i;){const o=e[s];typeof o=="string"&&!bu.has(o)&&Wt(o).values.length&&(i=e[s]),s++}if(i&&n)for(const o of t)e[o]=$o(n,i)}class Tu extends Xs{constructor(t,n,s,i,o){super(t,n,s,i,o,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let u=t[c];if(typeof u=="string"&&(u=u.trim(),Us(u))){const h=Bo(u,n.current);h!==void 0&&(t[c]=h),c===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!Uo.has(s)||t.length!==2)return;const[i,o]=t,r=er(i),l=er(o);if(r!==l)if(qi(r)&&qi(l))for(let c=0;c<t.length;c++){const u=t[c];typeof u=="string"&&(t[c]=parseFloat(u))}else rt[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,s=[];for(let i=0;i<t.length;i++)(t[i]===null||fu(t[i]))&&s.push(i);s.length&&vu(t,s,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:s}=this;if(!t||!t.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=rt[s](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&t.getValue(s,i).jump(i,!1)}measureEndState(){var l;const{element:t,name:n,unresolvedKeyframes:s}=this;if(!t||!t.current)return;const i=t.getValue(n);i&&i.jump(this.measuredOrigin,!1);const o=s.length-1,r=s[o];s[o]=rt[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=r),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,u])=>{t.getValue(c).set(u)}),this.resolveNoneKeyframes()}}function wu(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){const i=document.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}const Go=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function Ko(e){return lo(e)&&"offsetHeight"in e}const nr=30,Su=e=>!isNaN(parseFloat(e));class Au{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{var o;const i=Pe.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const r of this.dependents)r.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Pe.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=Su(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Os);const s=this.events[t].add(n);return t==="change"?()=>{s(),Z.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-s}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Pe.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>nr)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,nr);return uo(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Tt(e,t){return new Au(e,t)}const{schedule:Js,cancel:kf}=wo(queueMicrotask,!1),_e={x:!1,y:!1};function Yo(){return _e.x||_e.y}function Cu(e){return e==="x"||e==="y"?_e[e]?null:(_e[e]=!0,()=>{_e[e]=!1}):_e.x||_e.y?null:(_e.x=_e.y=!0,()=>{_e.x=_e.y=!1})}function Xo(e,t){const n=wu(e),s=new AbortController,i={passive:!0,...t,signal:s.signal};return[n,i,()=>s.abort()]}function sr(e){return!(e.pointerType==="touch"||Yo())}function Eu(e,t,n={}){const[s,i,o]=Xo(e,n),r=l=>{if(!sr(l))return;const{target:c}=l,u=t(c,l);if(typeof u!="function"||!c)return;const h=d=>{sr(d)&&(u(d),c.removeEventListener("pointerleave",h))};c.addEventListener("pointerleave",h,i)};return s.forEach(l=>{l.addEventListener("pointerenter",r,i)}),o}const qo=(e,t)=>t?e===t?!0:qo(e,t.parentElement):!1,Qs=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,Mu=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Pu(e){return Mu.has(e.tagName)||e.tabIndex!==-1}const pn=new WeakSet;function ir(e){return t=>{t.key==="Enter"&&e(t)}}function Xn(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const ju=(e,t)=>{const n=e.currentTarget;if(!n)return;const s=ir(()=>{if(pn.has(n))return;Xn(n,"down");const i=ir(()=>{Xn(n,"up")}),o=()=>Xn(n,"cancel");n.addEventListener("keyup",i,t),n.addEventListener("blur",o,t)});n.addEventListener("keydown",s,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),t)};function rr(e){return Qs(e)&&!Yo()}function Du(e,t,n={}){const[s,i,o]=Xo(e,n),r=l=>{const c=l.currentTarget;if(!rr(l))return;pn.add(c);const u=t(c,l),h=(p,y)=>{window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",f),pn.has(c)&&pn.delete(c),rr(p)&&typeof u=="function"&&u(p,{success:y})},d=p=>{h(p,c===window||c===document||n.useGlobalTarget||qo(c,p.target))},f=p=>{h(p,!1)};window.addEventListener("pointerup",d,i),window.addEventListener("pointercancel",f,i)};return s.forEach(l=>{(n.useGlobalTarget?window:l).addEventListener("pointerdown",r,i),Ko(l)&&(l.addEventListener("focus",u=>ju(u,i)),!Pu(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),o}function Zo(e){return lo(e)&&"ownerSVGElement"in e}function Ru(e){return Zo(e)&&e.tagName==="svg"}const xe=e=>!!(e&&e.getVelocity),Nu=[...Ho,se,Ze],ku=e=>Nu.find(Wo(e)),ei=g.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function or(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Lu(...e){return t=>{let n=!1;const s=e.map(i=>{const o=or(i,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let i=0;i<s.length;i++){const o=s[i];typeof o=="function"?o():or(e[i],null)}}}}function Vu(...e){return g.useCallback(Lu(...e),e)}class _u extends g.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const s=n.offsetParent,i=Ko(s)&&s.offsetWidth||0,o=this.props.sizeRef.current;o.height=n.offsetHeight||0,o.width=n.offsetWidth||0,o.top=n.offsetTop,o.left=n.offsetLeft,o.right=i-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Ou({children:e,isPresent:t,anchorX:n,root:s}){const i=g.useId(),o=g.useRef(null),r=g.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=g.useContext(ei),c=Vu(o,e==null?void 0:e.ref);return g.useInsertionEffect(()=>{const{width:u,height:h,top:d,left:f,right:p}=r.current;if(t||!o.current||!u||!h)return;const y=n==="left"?`left: ${f}`:`right: ${p}`;o.current.dataset.motionPopId=i;const x=document.createElement("style");l&&(x.nonce=l);const w=s??document.head;return w.appendChild(x),x.sheet&&x.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${h}px !important;
            ${y}px !important;
            top: ${d}px !important;
          }
        `),()=>{w.contains(x)&&w.removeChild(x)}},[t]),a.jsx(_u,{isPresent:t,childRef:o,sizeRef:r,children:g.cloneElement(e,{ref:c})})}const Iu=({children:e,initial:t,isPresent:n,onExitComplete:s,custom:i,presenceAffectsLayout:o,mode:r,anchorX:l,root:c})=>{const u=Ns(Fu),h=g.useId();let d=!0,f=g.useMemo(()=>(d=!1,{id:h,initial:t,isPresent:n,custom:i,onExitComplete:p=>{u.set(p,!0);for(const y of u.values())if(!y)return;s&&s()},register:p=>(u.set(p,!1),()=>u.delete(p))}),[n,u,s]);return o&&d&&(f={...f}),g.useMemo(()=>{u.forEach((p,y)=>u.set(y,!1))},[n]),g.useEffect(()=>{!n&&!u.size&&s&&s()},[n]),r==="popLayout"&&(e=a.jsx(Ou,{isPresent:n,anchorX:l,root:c,children:e})),a.jsx(Cn.Provider,{value:f,children:e})};function Fu(){return new Map}function Jo(e=!0){const t=g.useContext(Cn);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:i}=t,o=g.useId();g.useEffect(()=>{if(e)return i(o)},[e]);const r=g.useCallback(()=>e&&s&&s(o),[o,s,e]);return!n&&s?[!1,r]:[!0]}const un=e=>e.key||"";function ar(e){const t=[];return g.Children.forEach(e,n=>{g.isValidElement(n)&&t.push(n)}),t}const Bu=({children:e,custom:t,initial:n=!0,onExitComplete:s,presenceAffectsLayout:i=!0,mode:o="sync",propagate:r=!1,anchorX:l="left",root:c})=>{const[u,h]=Jo(r),d=g.useMemo(()=>ar(e),[e]),f=r&&!u?[]:d.map(un),p=g.useRef(!0),y=g.useRef(d),x=Ns(()=>new Map),[w,T]=g.useState(d),[j,A]=g.useState(d);oo(()=>{p.current=!1,y.current=d;for(let k=0;k<j.length;k++){const O=un(j[k]);f.includes(O)?x.delete(O):x.get(O)!==!0&&x.set(O,!1)}},[j,f.length,f.join("-")]);const P=[];if(d!==w){let k=[...d];for(let O=0;O<j.length;O++){const D=j[O],N=un(D);f.includes(N)||(k.splice(O,0,D),P.push(D))}return o==="wait"&&P.length&&(k=P),A(ar(k)),T(d),null}const{forceRender:E}=g.useContext(Rs);return a.jsx(a.Fragment,{children:j.map(k=>{const O=un(k),D=r&&!u?!1:d===j||f.includes(O),N=()=>{if(x.has(O))x.set(O,!0);else return;let M=!0;x.forEach(v=>{v||(M=!1)}),M&&(E==null||E(),A(y.current),r&&(h==null||h()),s&&s())};return a.jsx(Iu,{isPresent:D,initial:!p.current||n?void 0:!1,custom:t,presenceAffectsLayout:i,mode:o,root:c,onExitComplete:D?void 0:N,anchorX:l,children:k},O)})})},Qo=g.createContext({strict:!1}),lr={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},wt={};for(const e in lr)wt[e]={isEnabled:t=>lr[e].some(n=>!!t[n])};function Uu(e){for(const t in e)wt[t]={...wt[t],...e[t]}}const Wu=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function wn(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Wu.has(e)}let ea=e=>!wn(e);function Hu(e){typeof e=="function"&&(ea=t=>t.startsWith("on")?!wn(t):e(t))}try{Hu(require("@emotion/is-prop-valid").default)}catch{}function zu(e,t,n){const s={};for(const i in e)i==="values"&&typeof e.values=="object"||(ea(i)||n===!0&&wn(i)||!t&&!wn(i)||e.draggable&&i.startsWith("onDrag"))&&(s[i]=e[i]);return s}const En=g.createContext({});function Mn(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Ht(e){return typeof e=="string"||Array.isArray(e)}const ti=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],ni=["initial",...ti];function Pn(e){return Mn(e.animate)||ni.some(t=>Ht(e[t]))}function ta(e){return!!(Pn(e)||e.variants)}function $u(e,t){if(Pn(e)){const{initial:n,animate:s}=e;return{initial:n===!1||Ht(n)?n:void 0,animate:Ht(s)?s:void 0}}return e.inherit!==!1?t:{}}function Gu(e){const{initial:t,animate:n}=$u(e,g.useContext(En));return g.useMemo(()=>({initial:t,animate:n}),[cr(t),cr(n)])}function cr(e){return Array.isArray(e)?e.join(" "):e}const zt={};function Ku(e){for(const t in e)zt[t]=e[t],Bs(t)&&(zt[t].isCSSVariable=!0)}function na(e,{layout:t,layoutId:n}){return Ct.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!zt[e]||e==="opacity")}const Yu={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Xu=At.length;function qu(e,t,n){let s="",i=!0;for(let o=0;o<Xu;o++){const r=At[o],l=e[r];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(r.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||n){const u=Go(l,Zs[r]);if(!c){i=!1;const h=Yu[r]||r;s+=`${h}(${u}) `}n&&(t[r]=u)}}return s=s.trim(),n?s=n(t,i?"":s):i&&(s="none"),s}function si(e,t,n){const{style:s,vars:i,transformOrigin:o}=e;let r=!1,l=!1;for(const c in t){const u=t[c];if(Ct.has(c)){r=!0;continue}else if(Bs(c)){i[c]=u;continue}else{const h=Go(u,Zs[c]);c.startsWith("origin")?(l=!0,o[c]=h):s[c]=h}}if(t.transform||(r||n?s.transform=qu(t,e.transform,n):s.transform&&(s.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:h=0}=o;s.transformOrigin=`${c} ${u} ${h}`}}const ii=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function sa(e,t,n){for(const s in t)!xe(t[s])&&!na(s,n)&&(e[s]=t[s])}function Zu({transformTemplate:e},t){return g.useMemo(()=>{const n=ii();return si(n,t,e),Object.assign({},n.vars,n.style)},[t])}function Ju(e,t){const n=e.style||{},s={};return sa(s,n,e),Object.assign(s,Zu(e,t)),s}function Qu(e,t){const n={},s=Ju(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=s,n}const eh={offset:"stroke-dashoffset",array:"stroke-dasharray"},th={offset:"strokeDashoffset",array:"strokeDasharray"};function nh(e,t,n=1,s=0,i=!0){e.pathLength=1;const o=i?eh:th;e[o.offset]=U.transform(-s);const r=U.transform(t),l=U.transform(n);e[o.array]=`${r} ${l}`}function ia(e,{attrX:t,attrY:n,attrScale:s,pathLength:i,pathSpacing:o=1,pathOffset:r=0,...l},c,u,h){if(si(e,l,u),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:d,style:f}=e;d.transform&&(f.transform=d.transform,delete d.transform),(f.transform||d.transformOrigin)&&(f.transformOrigin=d.transformOrigin??"50% 50%",delete d.transformOrigin),f.transform&&(f.transformBox=(h==null?void 0:h.transformBox)??"fill-box",delete d.transformBox),t!==void 0&&(d.x=t),n!==void 0&&(d.y=n),s!==void 0&&(d.scale=s),i!==void 0&&nh(d,i,o,r,!1)}const ra=()=>({...ii(),attrs:{}}),oa=e=>typeof e=="string"&&e.toLowerCase()==="svg";function sh(e,t,n,s){const i=g.useMemo(()=>{const o=ra();return ia(o,t,oa(s),e.transformTemplate,e.style),{...o.attrs,style:{...o.style}}},[t]);if(e.style){const o={};sa(o,e.style,e),i.style={...o,...i.style}}return i}const ih=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ri(e){return typeof e!="string"||e.includes("-")?!1:!!(ih.indexOf(e)>-1||/[A-Z]/u.test(e))}function rh(e,t,n,{latestValues:s},i,o=!1){const l=(ri(e)?sh:Qu)(t,s,i,e),c=zu(t,typeof e=="string",o),u=e!==g.Fragment?{...c,...l,ref:n}:{},{children:h}=t,d=g.useMemo(()=>xe(h)?h.get():h,[h]);return g.createElement(e,{...u,children:d})}function ur(e){const t=[{},{}];return e==null||e.values.forEach((n,s)=>{t[0][s]=n.get(),t[1][s]=n.getVelocity()}),t}function oi(e,t,n,s){if(typeof t=="function"){const[i,o]=ur(s);t=t(n!==void 0?n:e.custom,i,o)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,o]=ur(s);t=t(n!==void 0?n:e.custom,i,o)}return t}function gn(e){return xe(e)?e.get():e}function oh({scrapeMotionValuesFromProps:e,createRenderState:t},n,s,i){return{latestValues:ah(n,s,i,e),renderState:t()}}function ah(e,t,n,s){const i={},o=s(e,{});for(const f in o)i[f]=gn(o[f]);let{initial:r,animate:l}=e;const c=Pn(e),u=ta(e);t&&u&&!c&&e.inherit!==!1&&(r===void 0&&(r=t.initial),l===void 0&&(l=t.animate));let h=n?n.initial===!1:!1;h=h||r===!1;const d=h?l:r;if(d&&typeof d!="boolean"&&!Mn(d)){const f=Array.isArray(d)?d:[d];for(let p=0;p<f.length;p++){const y=oi(e,f[p]);if(y){const{transitionEnd:x,transition:w,...T}=y;for(const j in T){let A=T[j];if(Array.isArray(A)){const P=h?A.length-1:0;A=A[P]}A!==null&&(i[j]=A)}for(const j in x)i[j]=x[j]}}}return i}const aa=e=>(t,n)=>{const s=g.useContext(En),i=g.useContext(Cn),o=()=>oh(e,t,s,i);return n?o():Ns(o)};function ai(e,t,n){var o;const{style:s}=e,i={};for(const r in s)(xe(s[r])||t.style&&xe(t.style[r])||na(r,e)||((o=n==null?void 0:n.getValue(r))==null?void 0:o.liveStyle)!==void 0)&&(i[r]=s[r]);return i}const lh=aa({scrapeMotionValuesFromProps:ai,createRenderState:ii});function la(e,t,n){const s=ai(e,t,n);for(const i in e)if(xe(e[i])||xe(t[i])){const o=At.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;s[o]=e[i]}return s}const ch=aa({scrapeMotionValuesFromProps:la,createRenderState:ra}),uh=Symbol.for("motionComponentSymbol");function pt(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function hh(e,t,n){return g.useCallback(s=>{s&&e.onMount&&e.onMount(s),t&&(s?t.mount(s):t.unmount()),n&&(typeof n=="function"?n(s):pt(n)&&(n.current=s))},[t])}const li=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),dh="framerAppearId",ca="data-"+li(dh),ua=g.createContext({});function fh(e,t,n,s,i){var x,w;const{visualElement:o}=g.useContext(En),r=g.useContext(Qo),l=g.useContext(Cn),c=g.useContext(ei).reducedMotion,u=g.useRef(null);s=s||r.renderer,!u.current&&s&&(u.current=s(e,{visualState:t,parent:o,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const h=u.current,d=g.useContext(ua);h&&!h.projection&&i&&(h.type==="html"||h.type==="svg")&&mh(u.current,n,i,d);const f=g.useRef(!1);g.useInsertionEffect(()=>{h&&f.current&&h.update(n,l)});const p=n[ca],y=g.useRef(!!p&&!((x=window.MotionHandoffIsComplete)!=null&&x.call(window,p))&&((w=window.MotionHasOptimisedAnimation)==null?void 0:w.call(window,p)));return oo(()=>{h&&(f.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),h.scheduleRenderMicrotask(),y.current&&h.animationState&&h.animationState.animateChanges())}),g.useEffect(()=>{h&&(!y.current&&h.animationState&&h.animationState.animateChanges(),y.current&&(queueMicrotask(()=>{var T;(T=window.MotionHandoffMarkAsComplete)==null||T.call(window,p)}),y.current=!1),h.enteringChildren=void 0)}),h}function mh(e,t,n,s){const{layoutId:i,layout:o,drag:r,dragConstraints:l,layoutScroll:c,layoutRoot:u,layoutCrossfade:h}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:ha(e.parent)),e.projection.setOptions({layoutId:i,layout:o,alwaysMeasureLayout:!!r||l&&pt(l),visualElement:e,animationType:typeof o=="string"?o:"both",initialPromotionConfig:s,crossfade:h,layoutScroll:c,layoutRoot:u})}function ha(e){if(e)return e.options.allowProjection!==!1?e.projection:ha(e.parent)}function qn(e,{forwardMotionProps:t=!1}={},n,s){n&&Uu(n);const i=ri(e)?ch:lh;function o(l,c){let u;const h={...g.useContext(ei),...l,layoutId:ph(l)},{isStatic:d}=h,f=Gu(l),p=i(l,d);if(!d&&ks){gh();const y=yh(h);u=y.MeasureLayout,f.visualElement=fh(e,p,h,s,y.ProjectionNode)}return a.jsxs(En.Provider,{value:f,children:[u&&f.visualElement?a.jsx(u,{visualElement:f.visualElement,...h}):null,rh(e,l,hh(p,f.visualElement,c),p,d,t)]})}o.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const r=g.forwardRef(o);return r[uh]=e,r}function ph({layoutId:e}){const t=g.useContext(Rs).id;return t&&e!==void 0?t+"-"+e:e}function gh(e,t){g.useContext(Qo).strict}function yh(e){const{drag:t,layout:n}=wt;if(!t&&!n)return{};const s={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function xh(e,t){if(typeof Proxy>"u")return qn;const n=new Map,s=(o,r)=>qn(o,r,e,t),i=(o,r)=>s(o,r);return new Proxy(i,{get:(o,r)=>r==="create"?s:(n.has(r)||n.set(r,qn(r,void 0,e,t)),n.get(r))})}function da({top:e,left:t,right:n,bottom:s}){return{x:{min:t,max:n},y:{min:e,max:s}}}function bh({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function vh(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),s=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function Zn(e){return e===void 0||e===1}function Ts({scale:e,scaleX:t,scaleY:n}){return!Zn(e)||!Zn(t)||!Zn(n)}function nt(e){return Ts(e)||fa(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function fa(e){return hr(e.x)||hr(e.y)}function hr(e){return e&&e!=="0%"}function Sn(e,t,n){const s=e-n,i=t*s;return n+i}function dr(e,t,n,s,i){return i!==void 0&&(e=Sn(e,i,s)),Sn(e,n,s)+t}function ws(e,t=0,n=1,s,i){e.min=dr(e.min,t,n,s,i),e.max=dr(e.max,t,n,s,i)}function ma(e,{x:t,y:n}){ws(e.x,t.translate,t.scale,t.originPoint),ws(e.y,n.translate,n.scale,n.originPoint)}const fr=.999999999999,mr=1.0000000000001;function Th(e,t,n,s=!1){const i=n.length;if(!i)return;t.x=t.y=1;let o,r;for(let l=0;l<i;l++){o=n[l],r=o.projectionDelta;const{visualElement:c}=o.options;c&&c.props.style&&c.props.style.display==="contents"||(s&&o.options.layoutScroll&&o.scroll&&o!==o.root&&yt(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),r&&(t.x*=r.x.scale,t.y*=r.y.scale,ma(e,r)),s&&nt(o.latestValues)&&yt(e,o.latestValues))}t.x<mr&&t.x>fr&&(t.x=1),t.y<mr&&t.y>fr&&(t.y=1)}function gt(e,t){e.min=e.min+t,e.max=e.max+t}function pr(e,t,n,s,i=.5){const o=J(e.min,e.max,i);ws(e,t,n,o,s)}function yt(e,t){pr(e.x,t.x,t.scaleX,t.scale,t.originX),pr(e.y,t.y,t.scaleY,t.scale,t.originY)}function pa(e,t){return da(vh(e.getBoundingClientRect(),t))}function wh(e,t,n){const s=pa(e,n),{scroll:i}=t;return i&&(gt(s.x,i.offset.x),gt(s.y,i.offset.y)),s}const gr=()=>({translate:0,scale:1,origin:0,originPoint:0}),xt=()=>({x:gr(),y:gr()}),yr=()=>({min:0,max:0}),ie=()=>({x:yr(),y:yr()}),Ss={current:null},ga={current:!1};function Sh(){if(ga.current=!0,!!ks)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Ss.current=e.matches;e.addEventListener("change",t),t()}else Ss.current=!1}const Ah=new WeakMap;function Ch(e,t,n){for(const s in t){const i=t[s],o=n[s];if(xe(i))e.addValue(s,i);else if(xe(o))e.addValue(s,Tt(i,{owner:e}));else if(o!==i)if(e.hasValue(s)){const r=e.getValue(s);r.liveStyle===!0?r.jump(i):r.hasAnimated||r.set(i)}else{const r=e.getStaticValue(s);e.addValue(s,Tt(r!==void 0?r:i,{owner:e}))}}for(const s in n)t[s]===void 0&&e.removeValue(s);return t}const xr=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Eh{scrapeMotionValuesFromProps(t,n,s){return{}}constructor({parent:t,props:n,presenceContext:s,reducedMotionConfig:i,blockInitialAnimation:o,visualState:r},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Xs,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=Pe.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,Z.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=r;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=n,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=l,this.blockInitialAnimation=!!o,this.isControllingVariants=Pn(n),this.isVariantNode=ta(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:h,...d}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in d){const p=d[f];c[f]!==void 0&&xe(p)&&p.set(c[f])}}mount(t){var n;this.current=t,Ah.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,i)=>this.bindToMotionValue(i,s)),ga.current||Sh(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Ss.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),qe(this.notifyUpdate),qe(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const s=this.features[n];s&&(s.unmount(),s.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const s=Ct.has(t);s&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",r=>{this.latestValues[t]=r,this.props.onUpdate&&Z.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{i(),o&&o(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in wt){const n=wt[t];if(!n)continue;const{isEnabled:s,Feature:i}=n;if(!this.features[t]&&i&&s(this.props)&&(this.features[t]=new i(this)),this.features[t]){const o=this.features[t];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ie()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<xr.length;s++){const i=xr[s];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o="on"+i,r=t[o];r&&(this.propEventSubscriptions[i]=this.on(i,r))}this.prevMotionValues=Ch(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const s=this.values.get(t);n!==s&&(s&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&n!==void 0&&(s=Tt(n===null?void 0:n,{owner:this}),this.addValue(t,s)),s}readValue(t,n){let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(ao(s)||co(s))?s=parseFloat(s):!ku(s)&&Ze.test(n)&&(s=$o(t,n)),this.setBaseTarget(t,xe(s)?s.get():s)),xe(s)?s.get():s}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var o;const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const r=oi(this.props,n,(o=this.presenceContext)==null?void 0:o.custom);r&&(s=r[t])}if(n&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!xe(i)?i:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Os),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){Js.render(this.render)}}class ya extends Eh{constructor(){super(...arguments),this.KeyframeResolver=Tu}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:s}){delete n[t],delete s[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;xe(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function xa(e,{style:t,vars:n},s,i){const o=e.style;let r;for(r in t)o[r]=t[r];i==null||i.applyProjectionStyles(o,s);for(r in n)o.setProperty(r,n[r])}function Mh(e){return window.getComputedStyle(e)}class Ph extends ya{constructor(){super(...arguments),this.type="html",this.renderInstance=xa}readValueFromInstance(t,n){var s;if(Ct.has(n))return(s=this.projection)!=null&&s.isProjecting?ms(n):Bc(t,n);{const i=Mh(t),o=(Bs(n)?i.getPropertyValue(n):i[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:n}){return pa(t,n)}build(t,n,s){si(t,n,s.transformTemplate)}scrapeMotionValuesFromProps(t,n,s){return ai(t,n,s)}}const ba=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function jh(e,t,n,s){xa(e,t,void 0,s);for(const i in t.attrs)e.setAttribute(ba.has(i)?i:li(i),t.attrs[i])}class Dh extends ya{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ie}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Ct.has(n)){const s=zo(n);return s&&s.default||0}return n=ba.has(n)?n:li(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,s){return la(t,n,s)}build(t,n,s){ia(t,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(t,n,s,i){jh(t,n,s,i)}mount(t){this.isSVGTag=oa(t.tagName),super.mount(t)}}const Rh=(e,t)=>ri(e)?new Dh(t):new Ph(t,{allowProjection:e!==g.Fragment});function bt(e,t,n){const s=e.getProps();return oi(s,t,n!==void 0?n:s.custom,e)}const As=e=>Array.isArray(e);function Nh(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Tt(n))}function kh(e){return As(e)?e[e.length-1]||0:e}function Lh(e,t){const n=bt(e,t);let{transitionEnd:s={},transition:i={},...o}=n||{};o={...o,...s};for(const r in o){const l=kh(o[r]);Nh(e,r,l)}}function Vh(e){return!!(xe(e)&&e.add)}function Cs(e,t){const n=e.getValue("willChange");if(Vh(n))return n.add(t);if(!n&&Ye.WillChange){const s=new Ye.WillChange("auto");e.addValue("willChange",s),s.add(t)}}function va(e){return e.props[ca]}const _h=e=>e!==null;function Oh(e,{repeat:t,repeatType:n="loop"},s){const i=e.filter(_h),o=t&&n!=="loop"&&t%2===1?0:i.length-1;return!o||s===void 0?i[o]:s}const Ih={type:"spring",stiffness:500,damping:25,restSpeed:10},Fh=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Bh={type:"keyframes",duration:.8},Uh={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Wh=(e,{keyframes:t})=>t.length>2?Bh:Ct.has(e)?e.startsWith("scale")?Fh(t[1]):Ih:Uh;function Hh({when:e,delay:t,delayChildren:n,staggerChildren:s,staggerDirection:i,repeat:o,repeatType:r,repeatDelay:l,from:c,elapsed:u,...h}){return!!Object.keys(h).length}const ci=(e,t,n,s={},i,o)=>r=>{const l=qs(s,e)||{},c=l.delay||s.delay||0;let{elapsed:u=0}=s;u=u-Fe(c);const h={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-u,onUpdate:f=>{t.set(f),l.onUpdate&&l.onUpdate(f)},onComplete:()=>{r(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:o?void 0:i};Hh(l)||Object.assign(h,Wh(e,h)),h.duration&&(h.duration=Fe(h.duration)),h.repeatDelay&&(h.repeatDelay=Fe(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let d=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(bs(h),h.delay===0&&(d=!0)),(Ye.instantAnimations||Ye.skipAnimations)&&(d=!0,bs(h),h.delay=0),h.allowFlatten=!l.type&&!l.ease,d&&!o&&t.get()!==void 0){const f=Oh(h.keyframes,l);if(f!==void 0){Z.update(()=>{h.onUpdate(f),h.onComplete()});return}}return l.isSync?new Ys(h):new cu(h)};function zh({protectedKeys:e,needsAnimating:t},n){const s=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,s}function Ta(e,t,{delay:n=0,transitionOverride:s,type:i}={}){let{transition:o=e.getDefaultTransition(),transitionEnd:r,...l}=t;s&&(o=s);const c=[],u=i&&e.animationState&&e.animationState.getState()[i];for(const h in l){const d=e.getValue(h,e.latestValues[h]??null),f=l[h];if(f===void 0||u&&zh(u,h))continue;const p={delay:n,...qs(o||{},h)},y=d.get();if(y!==void 0&&!d.isAnimating&&!Array.isArray(f)&&f===y&&!p.velocity)continue;let x=!1;if(window.MotionHandoffAnimation){const T=va(e);if(T){const j=window.MotionHandoffAnimation(T,h,Z);j!==null&&(p.startTime=j,x=!0)}}Cs(e,h),d.start(ci(h,d,f,e.shouldReduceMotion&&Uo.has(h)?{type:!1}:p,e,x));const w=d.animation;w&&c.push(w)}return r&&Promise.all(c).then(()=>{Z.update(()=>{r&&Lh(e,r)})}),c}function wa(e,t,n,s=0,i=1){const o=Array.from(e).sort((u,h)=>u.sortNodePosition(h)).indexOf(t),r=e.size,l=(r-1)*s;return typeof n=="function"?n(o,r):i===1?o*s:l-o*s}function Es(e,t,n={}){var c;const s=bt(e,t,n.type==="exit"?(c=e.presenceContext)==null?void 0:c.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(i=n.transitionOverride);const o=s?()=>Promise.all(Ta(e,s,n)):()=>Promise.resolve(),r=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:h=0,staggerChildren:d,staggerDirection:f}=i;return $h(e,t,u,h,d,f,n)}:()=>Promise.resolve(),{when:l}=i;if(l){const[u,h]=l==="beforeChildren"?[o,r]:[r,o];return u().then(()=>h())}else return Promise.all([o(),r(n.delay)])}function $h(e,t,n=0,s=0,i=0,o=1,r){const l=[];for(const c of e.variantChildren)c.notify("AnimationStart",t),l.push(Es(c,t,{...r,delay:n+(typeof s=="function"?0:s)+wa(e.variantChildren,c,s,i,o)}).then(()=>c.notify("AnimationComplete",t)));return Promise.all(l)}function Gh(e,t,n={}){e.notify("AnimationStart",t);let s;if(Array.isArray(t)){const i=t.map(o=>Es(e,o,n));s=Promise.all(i)}else if(typeof t=="string")s=Es(e,t,n);else{const i=typeof t=="function"?bt(e,t,n.custom):t;s=Promise.all(Ta(e,i,n))}return s.then(()=>{e.notify("AnimationComplete",t)})}function Sa(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let s=0;s<n;s++)if(t[s]!==e[s])return!1;return!0}const Kh=ni.length;function Aa(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?Aa(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<Kh;n++){const s=ni[n],i=e.props[s];(Ht(i)||i===!1)&&(t[s]=i)}return t}const Yh=[...ti].reverse(),Xh=ti.length;function qh(e){return t=>Promise.all(t.map(({animation:n,options:s})=>Gh(e,n,s)))}function Zh(e){let t=qh(e),n=br(),s=!0;const i=c=>(u,h)=>{var f;const d=bt(e,h,c==="exit"?(f=e.presenceContext)==null?void 0:f.custom:void 0);if(d){const{transition:p,transitionEnd:y,...x}=d;u={...u,...x,...y}}return u};function o(c){t=c(e)}function r(c){const{props:u}=e,h=Aa(e.parent)||{},d=[],f=new Set;let p={},y=1/0;for(let w=0;w<Xh;w++){const T=Yh[w],j=n[T],A=u[T]!==void 0?u[T]:h[T],P=Ht(A),E=T===c?j.isActive:null;E===!1&&(y=w);let k=A===h[T]&&A!==u[T]&&P;if(k&&s&&e.manuallyAnimateOnMount&&(k=!1),j.protectedKeys={...p},!j.isActive&&E===null||!A&&!j.prevProp||Mn(A)||typeof A=="boolean")continue;const O=Jh(j.prevProp,A);let D=O||T===c&&j.isActive&&!k&&P||w>y&&P,N=!1;const M=Array.isArray(A)?A:[A];let v=M.reduce(i(T),{});E===!1&&(v={});const{prevResolvedValues:B={}}=j,H={...B,...v},pe=$=>{D=!0,f.has($)&&(N=!0,f.delete($)),j.needsAnimating[$]=!0;const X=e.getValue($);X&&(X.liveStyle=!1)};for(const $ in H){const X=v[$],ue=B[$];if(p.hasOwnProperty($))continue;let ge=!1;As(X)&&As(ue)?ge=!Sa(X,ue):ge=X!==ue,ge?X!=null?pe($):f.add($):X!==void 0&&f.has($)?pe($):j.protectedKeys[$]=!0}j.prevProp=A,j.prevResolvedValues=v,j.isActive&&(p={...p,...v}),s&&e.blockInitialAnimation&&(D=!1);const te=k&&O;D&&(!te||N)&&d.push(...M.map($=>{const X={type:T};if(typeof $=="string"&&s&&!te&&e.manuallyAnimateOnMount&&e.parent){const{parent:ue}=e,ge=bt(ue,$);if(ue.enteringChildren&&ge){const{delayChildren:G}=ge.transition||{};X.delay=wa(ue.enteringChildren,e,G)}}return{animation:$,options:X}}))}if(f.size){const w={};if(typeof u.initial!="boolean"){const T=bt(e,Array.isArray(u.initial)?u.initial[0]:u.initial);T&&T.transition&&(w.transition=T.transition)}f.forEach(T=>{const j=e.getBaseTarget(T),A=e.getValue(T);A&&(A.liveStyle=!0),w[T]=j??null}),d.push({animation:w})}let x=!!d.length;return s&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(x=!1),s=!1,x?t(d):Promise.resolve()}function l(c,u){var d;if(n[c].isActive===u)return Promise.resolve();(d=e.variantChildren)==null||d.forEach(f=>{var p;return(p=f.animationState)==null?void 0:p.setActive(c,u)}),n[c].isActive=u;const h=r(c);for(const f in n)n[f].protectedKeys={};return h}return{animateChanges:r,setActive:l,setAnimateFunction:o,getState:()=>n,reset:()=>{n=br()}}}function Jh(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Sa(t,e):!1}function tt(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function br(){return{animate:tt(!0),whileInView:tt(),whileHover:tt(),whileTap:tt(),whileDrag:tt(),whileFocus:tt(),exit:tt()}}class Je{constructor(t){this.isMounted=!1,this.node=t}update(){}}class Qh extends Je{constructor(t){super(t),t.animationState||(t.animationState=Zh(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Mn(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let ed=0;class td extends Je{constructor(){super(...arguments),this.id=ed++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const i=this.node.animationState.setActive("exit",!t);n&&!t&&i.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const nd={animation:{Feature:Qh},exit:{Feature:td}};function $t(e,t,n,s={passive:!0}){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n)}function Xt(e){return{point:{x:e.pageX,y:e.pageY}}}const sd=e=>t=>Qs(t)&&e(t,Xt(t));function It(e,t,n,s){return $t(e,t,sd(n),s)}const Ca=1e-4,id=1-Ca,rd=1+Ca,Ea=.01,od=0-Ea,ad=0+Ea;function Te(e){return e.max-e.min}function ld(e,t,n){return Math.abs(e-t)<=n}function vr(e,t,n,s=.5){e.origin=s,e.originPoint=J(t.min,t.max,e.origin),e.scale=Te(n)/Te(t),e.translate=J(n.min,n.max,e.origin)-e.originPoint,(e.scale>=id&&e.scale<=rd||isNaN(e.scale))&&(e.scale=1),(e.translate>=od&&e.translate<=ad||isNaN(e.translate))&&(e.translate=0)}function Ft(e,t,n,s){vr(e.x,t.x,n.x,s?s.originX:void 0),vr(e.y,t.y,n.y,s?s.originY:void 0)}function Tr(e,t,n){e.min=n.min+t.min,e.max=e.min+Te(t)}function cd(e,t,n){Tr(e.x,t.x,n.x),Tr(e.y,t.y,n.y)}function wr(e,t,n){e.min=t.min-n.min,e.max=e.min+Te(t)}function An(e,t,n){wr(e.x,t.x,n.x),wr(e.y,t.y,n.y)}function je(e){return[e("x"),e("y")]}const Ma=({current:e})=>e?e.ownerDocument.defaultView:null,Sr=(e,t)=>Math.abs(e-t);function ud(e,t){const n=Sr(e.x,t.x),s=Sr(e.y,t.y);return Math.sqrt(n**2+s**2)}class Pa{constructor(t,n,{transformPagePoint:s,contextWindow:i=window,dragSnapToOrigin:o=!1,distanceThreshold:r=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=Qn(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,y=ud(f.offset,{x:0,y:0})>=this.distanceThreshold;if(!p&&!y)return;const{point:x}=f,{timestamp:w}=me;this.history.push({...x,timestamp:w});const{onStart:T,onMove:j}=this.handlers;p||(T&&T(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),j&&j(this.lastMoveEvent,f)},this.handlePointerMove=(f,p)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=Jn(p,this.transformPagePoint),Z.update(this.updatePoint,!0)},this.handlePointerUp=(f,p)=>{this.end();const{onEnd:y,onSessionEnd:x,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const T=Qn(f.type==="pointercancel"?this.lastMoveEventInfo:Jn(p,this.transformPagePoint),this.history);this.startEvent&&y&&y(f,T),x&&x(f,T)},!Qs(t))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=r,this.contextWindow=i||window;const l=Xt(t),c=Jn(l,this.transformPagePoint),{point:u}=c,{timestamp:h}=me;this.history=[{...u,timestamp:h}];const{onSessionStart:d}=n;d&&d(t,Qn(c,this.history)),this.removeListeners=Gt(It(this.contextWindow,"pointermove",this.handlePointerMove),It(this.contextWindow,"pointerup",this.handlePointerUp),It(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),qe(this.updatePoint)}}function Jn(e,t){return t?{point:t(e.point)}:e}function Ar(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Qn({point:e},t){return{point:e,delta:Ar(e,ja(t)),offset:Ar(e,hd(t)),velocity:dd(t,.1)}}function hd(e){return e[0]}function ja(e){return e[e.length-1]}function dd(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,s=null;const i=ja(e);for(;n>=0&&(s=e[n],!(i.timestamp-s.timestamp>Fe(t)));)n--;if(!s)return{x:0,y:0};const o=De(i.timestamp-s.timestamp);if(o===0)return{x:0,y:0};const r={x:(i.x-s.x)/o,y:(i.y-s.y)/o};return r.x===1/0&&(r.x=0),r.y===1/0&&(r.y=0),r}function fd(e,{min:t,max:n},s){return t!==void 0&&e<t?e=s?J(t,e,s.min):Math.max(e,t):n!==void 0&&e>n&&(e=s?J(n,e,s.max):Math.min(e,n)),e}function Cr(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function md(e,{top:t,left:n,bottom:s,right:i}){return{x:Cr(e.x,n,i),y:Cr(e.y,t,s)}}function Er(e,t){let n=t.min-e.min,s=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,s]=[s,n]),{min:n,max:s}}function pd(e,t){return{x:Er(e.x,t.x),y:Er(e.y,t.y)}}function gd(e,t){let n=.5;const s=Te(e),i=Te(t);return i>s?n=Bt(t.min,t.max-s,e.min):s>i&&(n=Bt(e.min,e.max-i,t.min)),Ke(0,1,n)}function yd(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Ms=.35;function xd(e=Ms){return e===!1?e=0:e===!0&&(e=Ms),{x:Mr(e,"left","right"),y:Mr(e,"top","bottom")}}function Mr(e,t,n){return{min:Pr(e,t),max:Pr(e,n)}}function Pr(e,t){return typeof e=="number"?e:e[t]||0}const bd=new WeakMap;class vd{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ie(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const o=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Xt(d).point)},r=(d,f)=>{const{drag:p,dragPropagation:y,onDragStart:x}=this.getProps();if(p&&!y&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Cu(p),!this.openDragLock))return;this.latestPointerEvent=d,this.latestPanInfo=f,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),je(T=>{let j=this.getAxisMotionValue(T).get()||0;if(Be.test(j)){const{projection:A}=this.visualElement;if(A&&A.layout){const P=A.layout.layoutBox[T];P&&(j=Te(P)*(parseFloat(j)/100))}}this.originPoint[T]=j}),x&&Z.postRender(()=>x(d,f)),Cs(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},l=(d,f)=>{this.latestPointerEvent=d,this.latestPanInfo=f;const{dragPropagation:p,dragDirectionLock:y,onDirectionLock:x,onDrag:w}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:T}=f;if(y&&this.currentDirection===null){this.currentDirection=Td(T),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",f.point,T),this.updateAxis("y",f.point,T),this.visualElement.render(),w&&w(d,f)},c=(d,f)=>{this.latestPointerEvent=d,this.latestPanInfo=f,this.stop(d,f),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>je(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)==null?void 0:f.play())}),{dragSnapToOrigin:h}=this.getProps();this.panSession=new Pa(t,{onSessionStart:o,onStart:r,onMove:l,onSessionEnd:c,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,distanceThreshold:s,contextWindow:Ma(this.visualElement)})}stop(t,n){const s=t||this.latestPointerEvent,i=n||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!i||!s)return;const{velocity:r}=i;this.startAnimation(r);const{onDragEnd:l}=this.getProps();l&&Z.postRender(()=>l(s,i))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,s){const{drag:i}=this.getProps();if(!s||!hn(t,i,this.currentDirection))return;const o=this.getAxisMotionValue(t);let r=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(r=fd(r,this.constraints[t],this.elastic[t])),o.set(r)}resolveConstraints(){var o;const{dragConstraints:t,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(o=this.visualElement.projection)==null?void 0:o.layout,i=this.constraints;t&&pt(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=md(s.layoutBox,t):this.constraints=!1,this.elastic=xd(n),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&je(r=>{this.constraints!==!1&&this.getAxisMotionValue(r)&&(this.constraints[r]=yd(s.layoutBox[r],this.constraints[r]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!pt(t))return!1;const s=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=wh(s,i.root,this.visualElement.getTransformPagePoint());let r=pd(i.layout.layoutBox,o);if(n){const l=n(bh(r));this.hasMutatedConstraints=!!l,l&&(r=da(l))}return r}startAnimation(t){const{drag:n,dragMomentum:s,dragElastic:i,dragTransition:o,dragSnapToOrigin:r,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=je(h=>{if(!hn(h,n,this.currentDirection))return;let d=c&&c[h]||{};r&&(d={min:0,max:0});const f=i?200:1e6,p=i?40:1e7,y={type:"inertia",velocity:s?t[h]:0,bounceStiffness:f,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...o,...d};return this.startAxisValueAnimation(h,y)});return Promise.all(u).then(l)}startAxisValueAnimation(t,n){const s=this.getAxisMotionValue(t);return Cs(this.visualElement,t),s.start(ci(t,s,0,n,this.visualElement,!1))}stopAnimation(){je(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){je(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,s=this.visualElement.getProps(),i=s[n];return i||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){je(n=>{const{drag:s}=this.getProps();if(!hn(n,s,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(n);if(i&&i.layout){const{min:r,max:l}=i.layout.layoutBox[n];o.set(t[n]-J(r,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!pt(n)||!s||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};je(r=>{const l=this.getAxisMotionValue(r);if(l&&this.constraints!==!1){const c=l.get();i[r]=gd({min:c,max:c},this.constraints[r])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),je(r=>{if(!hn(r,t,null))return;const l=this.getAxisMotionValue(r),{min:c,max:u}=this.constraints[r];l.set(J(c,u,i[r]))})}addListeners(){if(!this.visualElement.current)return;bd.set(this.visualElement,this);const t=this.visualElement.current,n=It(t,"pointerdown",c=>{const{drag:u,dragListener:h=!0}=this.getProps();u&&h&&this.start(c)}),s=()=>{const{dragConstraints:c}=this.getProps();pt(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,o=i.addEventListener("measure",s);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Z.read(s);const r=$t(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(je(h=>{const d=this.getAxisMotionValue(h);d&&(this.originPoint[h]+=c[h].translate,d.set(d.get()+c[h].translate))}),this.visualElement.render())});return()=>{r(),n(),o(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:r=Ms,dragMomentum:l=!0}=t;return{...t,drag:n,dragDirectionLock:s,dragPropagation:i,dragConstraints:o,dragElastic:r,dragMomentum:l}}}function hn(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function Td(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class wd extends Je{constructor(t){super(t),this.removeGroupControls=Re,this.removeListeners=Re,this.controls=new vd(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Re}unmount(){this.removeGroupControls(),this.removeListeners()}}const jr=e=>(t,n)=>{e&&Z.postRender(()=>e(t,n))};class Sd extends Je{constructor(){super(...arguments),this.removePointerDownListener=Re}onPointerDown(t){this.session=new Pa(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Ma(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:s,onPanEnd:i}=this.node.getProps();return{onSessionStart:jr(t),onStart:jr(n),onMove:s,onEnd:(o,r)=>{delete this.session,i&&Z.postRender(()=>i(o,r))}}}mount(){this.removePointerDownListener=It(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const yn={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Dr(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Lt={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(U.test(e))e=parseFloat(e);else return e;const n=Dr(e,t.target.x),s=Dr(e,t.target.y);return`${n}% ${s}%`}},Ad={correct:(e,{treeScale:t,projectionDelta:n})=>{const s=e,i=Ze.parse(e);if(i.length>5)return s;const o=Ze.createTransformer(e),r=typeof i[0]!="number"?1:0,l=n.x.scale*t.x,c=n.y.scale*t.y;i[0+r]/=l,i[1+r]/=c;const u=J(l,c,.5);return typeof i[2+r]=="number"&&(i[2+r]/=u),typeof i[3+r]=="number"&&(i[3+r]/=u),o(i)}};let es=!1;class Cd extends g.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s,layoutId:i}=this.props,{projection:o}=t;Ku(Ed),o&&(n.group&&n.group.add(o),s&&s.register&&i&&s.register(o),es&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),yn.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:s,drag:i,isPresent:o}=this.props,{projection:r}=s;return r&&(r.isPresent=o,es=!0,i||t.layoutDependency!==n||n===void 0||t.isPresent!==o?r.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?r.promote():r.relegate()||Z.postRender(()=>{const l=r.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Js.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:i}=t;es=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),s&&s.deregister&&s.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Da(e){const[t,n]=Jo(),s=g.useContext(Rs);return a.jsx(Cd,{...e,layoutGroup:s,switchLayoutGroup:g.useContext(ua),isPresent:t,safeToRemove:n})}const Ed={borderRadius:{...Lt,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Lt,borderTopRightRadius:Lt,borderBottomLeftRadius:Lt,borderBottomRightRadius:Lt,boxShadow:Ad};function Md(e,t,n){const s=xe(e)?e:Tt(e);return s.start(ci("",s,t,n)),s.animation}const Pd=(e,t)=>e.depth-t.depth;class jd{constructor(){this.children=[],this.isDirty=!1}add(t){Ls(this.children,t),this.isDirty=!0}remove(t){Vs(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Pd),this.isDirty=!1,this.children.forEach(t)}}function Dd(e,t){const n=Pe.now(),s=({timestamp:i})=>{const o=i-n;o>=t&&(qe(s),e(o-t))};return Z.setup(s,!0),()=>qe(s)}const Ra=["TopLeft","TopRight","BottomLeft","BottomRight"],Rd=Ra.length,Rr=e=>typeof e=="string"?parseFloat(e):e,Nr=e=>typeof e=="number"||U.test(e);function Nd(e,t,n,s,i,o){i?(e.opacity=J(0,n.opacity??1,kd(s)),e.opacityExit=J(t.opacity??1,0,Ld(s))):o&&(e.opacity=J(t.opacity??1,n.opacity??1,s));for(let r=0;r<Rd;r++){const l=`border${Ra[r]}Radius`;let c=kr(t,l),u=kr(n,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||Nr(c)===Nr(u)?(e[l]=Math.max(J(Rr(c),Rr(u),s),0),(Be.test(u)||Be.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||n.rotate)&&(e.rotate=J(t.rotate||0,n.rotate||0,s))}function kr(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const kd=Na(0,.5,xo),Ld=Na(.5,.95,Re);function Na(e,t,n){return s=>s<e?0:s>t?1:n(Bt(e,t,s))}function Lr(e,t){e.min=t.min,e.max=t.max}function Le(e,t){Lr(e.x,t.x),Lr(e.y,t.y)}function Vr(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function _r(e,t,n,s,i){return e-=t,e=Sn(e,1/n,s),i!==void 0&&(e=Sn(e,1/i,s)),e}function Vd(e,t=0,n=1,s=.5,i,o=e,r=e){if(Be.test(t)&&(t=parseFloat(t),t=J(r.min,r.max,t/100)-r.min),typeof t!="number")return;let l=J(o.min,o.max,s);e===o&&(l-=t),e.min=_r(e.min,t,n,l,i),e.max=_r(e.max,t,n,l,i)}function Or(e,t,[n,s,i],o,r){Vd(e,t[n],t[s],t[i],t.scale,o,r)}const _d=["x","scaleX","originX"],Od=["y","scaleY","originY"];function Ir(e,t,n,s){Or(e.x,t,_d,n?n.x:void 0,s?s.x:void 0),Or(e.y,t,Od,n?n.y:void 0,s?s.y:void 0)}function Fr(e){return e.translate===0&&e.scale===1}function ka(e){return Fr(e.x)&&Fr(e.y)}function Br(e,t){return e.min===t.min&&e.max===t.max}function Id(e,t){return Br(e.x,t.x)&&Br(e.y,t.y)}function Ur(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function La(e,t){return Ur(e.x,t.x)&&Ur(e.y,t.y)}function Wr(e){return Te(e.x)/Te(e.y)}function Hr(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class Fd{constructor(){this.members=[]}add(t){Ls(this.members,t),t.scheduleRender()}remove(t){if(Vs(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let s;for(let i=n;i>=0;i--){const o=this.members[i];if(o.isPresent!==!1){s=o;break}}return s?(this.promote(s),!0):!1}promote(t,n){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender(),t.resumeFrom=s,n&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:s}=t;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Bd(e,t,n){let s="";const i=e.x.translate/t.x,o=e.y.translate/t.y,r=(n==null?void 0:n.z)||0;if((i||o||r)&&(s=`translate3d(${i}px, ${o}px, ${r}px) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:u,rotate:h,rotateX:d,rotateY:f,skewX:p,skewY:y}=n;u&&(s=`perspective(${u}px) ${s}`),h&&(s+=`rotate(${h}deg) `),d&&(s+=`rotateX(${d}deg) `),f&&(s+=`rotateY(${f}deg) `),p&&(s+=`skewX(${p}deg) `),y&&(s+=`skewY(${y}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(s+=`scale(${l}, ${c})`),s||"none"}const ts=["","X","Y","Z"],Ud=1e3;let Wd=0;function ns(e,t,n,s){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),s&&(s[e]=0))}function Va(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=va(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:o}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Z,!(i||o))}const{parent:s}=e;s&&!s.hasCheckedOptimisedAppear&&Va(s)}function _a({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:s,resetTransform:i}){return class{constructor(r={},l=t==null?void 0:t()){this.id=Wd++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach($d),this.nodes.forEach(Xd),this.nodes.forEach(qd),this.nodes.forEach(Gd)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=r,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new jd)}addEventListener(r,l){return this.eventHandlers.has(r)||this.eventHandlers.set(r,new Os),this.eventHandlers.get(r).add(l)}notifyListeners(r,...l){const c=this.eventHandlers.get(r);c&&c.notify(...l)}hasListeners(r){return this.eventHandlers.has(r)}mount(r){if(this.instance)return;this.isSVG=Zo(r)&&!Ru(r),this.instance=r;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(r),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),e){let h,d=0;const f=()=>this.root.updateBlockedByResize=!1;Z.read(()=>{d=window.innerWidth}),e(r,()=>{const p=window.innerWidth;p!==d&&(d=p,this.root.updateBlockedByResize=!0,h&&h(),h=Dd(f,250),yn.hasAnimatedSinceResize&&(yn.hasAnimatedSinceResize=!1,this.nodes.forEach(Gr)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:d,hasRelativeLayoutChanged:f,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||u.getDefaultTransition()||tf,{onLayoutAnimationStart:x,onLayoutAnimationComplete:w}=u.getProps(),T=!this.targetLayout||!La(this.targetLayout,p),j=!d&&f;if(this.options.layoutRoot||this.resumeFrom||j||d&&(T||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const A={...qs(y,"layout"),onPlay:x,onComplete:w};(u.shouldReduceMotion||this.options.layoutRoot)&&(A.delay=0,A.type=!1),this.startAnimation(A),this.setAnimationOrigin(h,j)}else d||Gr(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const r=this.getStack();r&&r.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),qe(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Zd),this.animationId++)}getTransformTemplate(){const{visualElement:r}=this.options;return r&&r.getProps().transformTemplate}willUpdate(r=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Va(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const d=this.path[h];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),r&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(zr);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach($r);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Yd),this.nodes.forEach(Hd),this.nodes.forEach(zd)):this.nodes.forEach($r),this.clearAllSnapshots();const l=Pe.now();me.delta=Ke(0,1e3/60,l-me.timestamp),me.timestamp=l,me.isProcessing=!0,zn.update.process(me),zn.preRender.process(me),zn.render.process(me),me.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Js.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Kd),this.sharedNodes.forEach(Jd)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Z.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Z.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Te(this.snapshot.measuredBox.x)&&!Te(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const r=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=ie(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,r?r.layoutBox:void 0)}updateScroll(r="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===r&&(l=!1),l&&this.instance){const c=s(this.instance);this.scroll={animationId:this.root.animationId,phase:r,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const r=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!ka(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,h=u!==this.prevTransformTemplateValue;r&&this.instance&&(l||nt(this.latestValues)||h)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(r=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return r&&(c=this.removeTransform(c)),nf(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:r}=this.options;if(!r)return ie();const l=r.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(sf))){const{scroll:h}=this.root;h&&(gt(l.x,h.offset.x),gt(l.y,h.offset.y))}return l}removeElementScroll(r){var c;const l=ie();if(Le(l,r),(c=this.scroll)!=null&&c.wasRoot)return l;for(let u=0;u<this.path.length;u++){const h=this.path[u],{scroll:d,options:f}=h;h!==this.root&&d&&f.layoutScroll&&(d.wasRoot&&Le(l,r),gt(l.x,d.offset.x),gt(l.y,d.offset.y))}return l}applyTransform(r,l=!1){const c=ie();Le(c,r);for(let u=0;u<this.path.length;u++){const h=this.path[u];!l&&h.options.layoutScroll&&h.scroll&&h!==h.root&&yt(c,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),nt(h.latestValues)&&yt(c,h.latestValues)}return nt(this.latestValues)&&yt(c,this.latestValues),c}removeTransform(r){const l=ie();Le(l,r);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!nt(u.latestValues))continue;Ts(u.latestValues)&&u.updateSnapshot();const h=ie(),d=u.measurePageBox();Le(h,d),Ir(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,h)}return nt(this.latestValues)&&Ir(l,this.latestValues),l}setTargetDelta(r){this.targetDelta=r,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(r){this.options={...this.options,...r,crossfade:r.crossfade!==void 0?r.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==me.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(r=!1){var p;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(r||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(p=this.parent)!=null&&p.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:d}=this.options;if(!this.layout||!(h||d))return;this.resolvedRelativeTargetAt=me.timestamp;const f=this.getClosestProjectingParent();f&&this.linkedParentVersion!==f.layoutVersion&&!f.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(f&&f.layout?this.createRelativeTarget(f,this.layout.layoutBox,f.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ie(),this.targetWithTransforms=ie()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),cd(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Le(this.target,this.layout.layoutBox),ma(this.target,this.targetDelta)):Le(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?this.createRelativeTarget(f,this.target,f.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Ts(this.parent.latestValues)||fa(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(r,l,c){this.relativeParent=r,this.linkedParentVersion=r.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ie(),this.relativeTargetOrigin=ie(),An(this.relativeTargetOrigin,l,c),Le(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var y;const r=this.getLead(),l=!!this.resumingFrom||this!==r;let c=!0;if((this.isProjectionDirty||(y=this.parent)!=null&&y.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===me.timestamp&&(c=!1),c)return;const{layout:u,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||h))return;Le(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,f=this.treeScale.y;Th(this.layoutCorrected,this.treeScale,this.path,l),r.layout&&!r.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(r.target=r.layout.layoutBox,r.targetWithTransforms=ie());const{target:p}=r;if(!p){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Vr(this.prevProjectionDelta.x,this.projectionDelta.x),Vr(this.prevProjectionDelta.y,this.projectionDelta.y)),Ft(this.projectionDelta,this.layoutCorrected,p,this.latestValues),(this.treeScale.x!==d||this.treeScale.y!==f||!Hr(this.projectionDelta.x,this.prevProjectionDelta.x)||!Hr(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(r=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),r){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=xt(),this.projectionDelta=xt(),this.projectionDeltaWithTransform=xt()}setAnimationOrigin(r,l=!1){const c=this.snapshot,u=c?c.latestValues:{},h={...this.latestValues},d=xt();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const f=ie(),p=c?c.source:void 0,y=this.layout?this.layout.source:void 0,x=p!==y,w=this.getStack(),T=!w||w.members.length<=1,j=!!(x&&!T&&this.options.crossfade===!0&&!this.path.some(ef));this.animationProgress=0;let A;this.mixTargetDelta=P=>{const E=P/1e3;Kr(d.x,r.x,E),Kr(d.y,r.y,E),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(An(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Qd(this.relativeTarget,this.relativeTargetOrigin,f,E),A&&Id(this.relativeTarget,A)&&(this.isProjectionDirty=!1),A||(A=ie()),Le(A,this.relativeTarget)),x&&(this.animationValues=h,Nd(h,u,this.latestValues,E,j,T)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=E},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(r){var l,c,u;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(u=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||u.stop(),this.pendingAnimation&&(qe(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Z.update(()=>{yn.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Tt(0)),this.currentAnimation=Md(this.motionValue,[0,1e3],{...r,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),r.onUpdate&&r.onUpdate(h)},onStop:()=>{},onComplete:()=>{r.onComplete&&r.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const r=this.getStack();r&&r.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Ud),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const r=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:h}=r;if(!(!l||!c||!u)){if(this!==r&&this.layout&&u&&Oa(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||ie();const d=Te(this.layout.layoutBox.x);c.x.min=r.target.x.min,c.x.max=c.x.min+d;const f=Te(this.layout.layoutBox.y);c.y.min=r.target.y.min,c.y.max=c.y.min+f}Le(l,c),yt(l,h),Ft(this.projectionDeltaWithTransform,this.layoutCorrected,l,h)}}registerSharedNode(r,l){this.sharedNodes.has(r)||this.sharedNodes.set(r,new Fd),this.sharedNodes.get(r).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const r=this.getStack();return r?r.lead===this:!0}getLead(){var l;const{layoutId:r}=this.options;return r?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:r}=this.options;return r?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:r}=this.options;if(r)return this.root.sharedNodes.get(r)}promote({needsReset:r,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),r&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const r=this.getStack();return r?r.relegate(this):!1}resetSkewAndRotation(){const{visualElement:r}=this.options;if(!r)return;let l=!1;const{latestValues:c}=r;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&ns("z",r,u,this.animationValues);for(let h=0;h<ts.length;h++)ns(`rotate${ts[h]}`,r,u,this.animationValues),ns(`skew${ts[h]}`,r,u,this.animationValues);r.render();for(const h in u)r.setStaticValue(h,u[h]),this.animationValues&&(this.animationValues[h]=u[h]);r.scheduleRender()}applyProjectionStyles(r,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){r.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,r.visibility="",r.opacity="",r.pointerEvents=gn(l==null?void 0:l.pointerEvents)||"",r.transform=c?c(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(r.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,r.pointerEvents=gn(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!nt(this.latestValues)&&(r.transform=c?c({},""):"none",this.hasProjected=!1);return}r.visibility="";const h=u.animationValues||u.latestValues;this.applyTransformsToTarget();let d=Bd(this.projectionDeltaWithTransform,this.treeScale,h);c&&(d=c(h,d)),r.transform=d;const{x:f,y:p}=this.projectionDelta;r.transformOrigin=`${f.origin*100}% ${p.origin*100}% 0`,u.animationValues?r.opacity=u===this?h.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:r.opacity=u===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const y in zt){if(h[y]===void 0)continue;const{correct:x,applyTo:w,isCSSVariable:T}=zt[y],j=d==="none"?h[y]:x(h[y],u);if(w){const A=w.length;for(let P=0;P<A;P++)r[w[P]]=j}else T?this.options.visualElement.renderState.vars[y]=j:r[y]=j}this.options.layoutId&&(r.pointerEvents=u===this?gn(l==null?void 0:l.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(r=>{var l;return(l=r.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(zr),this.root.sharedNodes.clear()}}}function Hd(e){e.updateLayout()}function zd(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:i}=e.layout,{animationType:o}=e.options,r=t.source!==e.layout.source;o==="size"?je(d=>{const f=r?t.measuredBox[d]:t.layoutBox[d],p=Te(f);f.min=s[d].min,f.max=f.min+p}):Oa(o,t.layoutBox,s)&&je(d=>{const f=r?t.measuredBox[d]:t.layoutBox[d],p=Te(s[d]);f.max=f.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[d].max=e.relativeTarget[d].min+p)});const l=xt();Ft(l,s,t.layoutBox);const c=xt();r?Ft(c,e.applyTransform(i,!0),t.measuredBox):Ft(c,s,t.layoutBox);const u=!ka(l);let h=!1;if(!e.resumeFrom){const d=e.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:f,layout:p}=d;if(f&&p){const y=ie();An(y,t.layoutBox,f.layoutBox);const x=ie();An(x,s,p.layoutBox),La(y,x)||(h=!0),d.options.layoutRoot&&(e.relativeTarget=x,e.relativeTargetOrigin=y,e.relativeParent=d)}}}e.notifyListeners("didUpdate",{layout:s,snapshot:t,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeLayoutChanged:h})}else if(e.isLead()){const{onExitComplete:s}=e.options;s&&s()}e.options.transition=void 0}function $d(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Gd(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Kd(e){e.clearSnapshot()}function zr(e){e.clearMeasurements()}function $r(e){e.isLayoutDirty=!1}function Yd(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Gr(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Xd(e){e.resolveTargetDelta()}function qd(e){e.calcProjection()}function Zd(e){e.resetSkewAndRotation()}function Jd(e){e.removeLeadSnapshot()}function Kr(e,t,n){e.translate=J(t.translate,0,n),e.scale=J(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Yr(e,t,n,s){e.min=J(t.min,n.min,s),e.max=J(t.max,n.max,s)}function Qd(e,t,n,s){Yr(e.x,t.x,n.x,s),Yr(e.y,t.y,n.y,s)}function ef(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const tf={duration:.45,ease:[.4,0,.1,1]},Xr=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),qr=Xr("applewebkit/")&&!Xr("chrome/")?Math.round:Re;function Zr(e){e.min=qr(e.min),e.max=qr(e.max)}function nf(e){Zr(e.x),Zr(e.y)}function Oa(e,t,n){return e==="position"||e==="preserve-aspect"&&!ld(Wr(t),Wr(n),.2)}function sf(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const rf=_a({attachResizeListener:(e,t)=>$t(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ss={current:void 0},Ia=_a({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!ss.current){const e=new rf({});e.mount(window),e.setOptions({layoutScroll:!0}),ss.current=e}return ss.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),of={pan:{Feature:Sd},drag:{Feature:wd,ProjectionNode:Ia,MeasureLayout:Da}};function Jr(e,t,n){const{props:s}=e;e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,o=s[i];o&&Z.postRender(()=>o(t,Xt(t)))}class af extends Je{mount(){const{current:t}=this.node;t&&(this.unmount=Eu(t,(n,s)=>(Jr(this.node,s,"Start"),i=>Jr(this.node,i,"End"))))}unmount(){}}class lf extends Je{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Gt($t(this.node.current,"focus",()=>this.onFocus()),$t(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Qr(e,t,n){const{props:s}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&s.whileTap&&e.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),o=s[i];o&&Z.postRender(()=>o(t,Xt(t)))}class cf extends Je{mount(){const{current:t}=this.node;t&&(this.unmount=Du(t,(n,s)=>(Qr(this.node,s,"Start"),(i,{success:o})=>Qr(this.node,i,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Ps=new WeakMap,is=new WeakMap,uf=e=>{const t=Ps.get(e.target);t&&t(e)},hf=e=>{e.forEach(uf)};function df({root:e,...t}){const n=e||document;is.has(n)||is.set(n,{});const s=is.get(n),i=JSON.stringify(t);return s[i]||(s[i]=new IntersectionObserver(hf,{root:e,...t})),s[i]}function ff(e,t,n){const s=df(t);return Ps.set(e,n),s.observe(e),()=>{Ps.delete(e),s.unobserve(e)}}const mf={some:0,all:1};class pf extends Je{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:s,amount:i="some",once:o}=t,r={root:n?n.current:void 0,rootMargin:s,threshold:typeof i=="number"?i:mf[i]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,o&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:h,onViewportLeave:d}=this.node.getProps(),f=u?h:d;f&&f(c)};return ff(this.node.current,r,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(gf(t,n))&&this.startObserver()}unmount(){}}function gf({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const yf={inView:{Feature:pf},tap:{Feature:cf},focus:{Feature:lf},hover:{Feature:af}},xf={layout:{ProjectionNode:Ia,MeasureLayout:Da}},bf={...nd,...yf,...of,...xf},vf=xh(bf,Rh),dn={informational:{primary:"#F59E0B",glow:"rgba(245, 158, 11, 0.3)",bg:"rgba(245, 158, 11, 0.15)"},mutable:{primary:"#D946EF",glow:"rgba(217, 70, 239, 0.3)",bg:"rgba(217, 70, 239, 0.15)"},validatable:{primary:"#3B82F6",glow:"rgba(59, 130, 246, 0.35)",bg:"rgba(59, 130, 246, 0.15)"},connective:{primary:"#10B981",glow:"rgba(16, 185, 129, 0.3)",bg:"rgba(16, 185, 129, 0.15)"},draggable:{primary:"#6366F1",glow:"rgba(99, 102, 241, 0.3)",bg:"rgba(99, 102, 241, 0.15)"},success:{primary:"#22C55E",glow:"rgba(34, 197, 94, 0.3)",bg:"rgba(34, 197, 94, 0.15)"},error:{primary:"#EF4444",glow:"rgba(239, 68, 68, 0.3)",bg:"rgba(239, 68, 68, 0.15)"}},Ge=({id:e,children:t,tooltip:n,position:s="auto",maxWidth:i=400,color:o=dn.informational.primary,bgColor:r=dn.informational.bg,className:l})=>{const[c,u]=g.useState(!1),[h,d]=g.useState("bottom"),[f,p]=g.useState({top:0,left:0}),y=g.useRef(null),x=g.useRef(null);return g.useEffect(()=>{var M;if(!y.current||!c)return;const w=y.current.getBoundingClientRect(),j=window.innerHeight-w.bottom,A=w.top,P=((M=x.current)==null?void 0:M.offsetHeight)||100,E=8;let k="bottom";s==="auto"?j<P+E&&A>j&&(k="top"):k=s,d(k);const O=k==="bottom"?w.bottom+window.scrollY+E:w.top+window.scrollY-P-E,D=Math.min(i,window.innerWidth-32);let N=w.left+w.width/2-D/2+window.scrollX;N=Math.max(16,Math.min(N,window.innerWidth-D-16)),p({top:O,left:N})},[c,s,i]),a.jsxs(a.Fragment,{children:[a.jsx("span",{ref:y,id:e,className:K("annotation annotation-hoverable",l),style:{color:o,textShadow:c?`0 0 8px ${dn.informational.glow}`:"none",background:c?r:"transparent",borderRadius:"2px",padding:c?"0 2px":"0",margin:c?"0 -2px":"0",cursor:"help",transition:"all 0.2s ease"},onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),children:t}),typeof window<"u"&&rl.createPortal(a.jsx(Bu,{children:c&&a.jsx(vf.div,{ref:x,initial:{opacity:0,y:h==="bottom"?-8:8,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:h==="bottom"?-8:8,scale:.95},transition:{duration:.15,ease:[.4,0,.2,1]},className:"annotation-tooltip annotation-tooltip--informational",style:{position:"fixed",top:`${f.top}px`,left:`${f.left}px`,maxWidth:`${i}px`,minWidth:"200px",padding:"12px 16px",borderRadius:"10px",background:o,color:"white",fontSize:"0.9rem",lineHeight:1.6,boxShadow:`0 4px 20px ${dn.informational.glow}`,pointerEvents:"none",zIndex:1e3},children:typeof n=="string"?a.jsx("p",{className:"m-0",children:n}):n})}),document.body)]})},qt=g.forwardRef(({className:e,...t},n)=>a.jsx("div",{className:"relative w-full overflow-auto",children:a.jsx("table",{ref:n,className:K("w-full caption-bottom text-sm",e),...t})}));qt.displayName="Table";const Zt=g.forwardRef(({className:e,...t},n)=>a.jsx("thead",{ref:n,className:K("[&_tr]:border-b",e),...t}));Zt.displayName="TableHeader";const Jt=g.forwardRef(({className:e,...t},n)=>a.jsx("tbody",{ref:n,className:K("[&_tr:last-child]:border-0",e),...t}));Jt.displayName="TableBody";const Tf=g.forwardRef(({className:e,...t},n)=>a.jsx("tfoot",{ref:n,className:K("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));Tf.displayName="TableFooter";const Ue=g.forwardRef(({className:e,...t},n)=>a.jsx("tr",{ref:n,className:K("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",e),...t}));Ue.displayName="TableRow";const Ne=g.forwardRef(({className:e,...t},n)=>a.jsx("th",{ref:n,className:K("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Ne.displayName="TableHead";const Me=g.forwardRef(({className:e,...t},n)=>a.jsx("td",{ref:n,className:K("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Me.displayName="TableCell";const wf=g.forwardRef(({className:e,...t},n)=>a.jsx("caption",{ref:n,className:K("mt-4 text-sm text-muted-foreground",e),...t}));wf.displayName="TableCaption";const Sf=()=>{const[e,t]=g.useState({row:null,col:null,type:null}),[n,s]=g.useState(null),i=["Launch Product A","Launch Product B","Launch Product C"],o=["High Demand","Medium Demand","Low Demand"],r=[[200,100,-50],[150,120,30],[80,80,80]],l=(u,h)=>{s({row:u,col:h})},c=(u,h)=>{const d=e.type==="row"&&e.row===u,f=e.type==="col"&&e.col===h,p=(n==null?void 0:n.row)===u&&(n==null?void 0:n.col)===h;return K("transition-all duration-200 cursor-pointer text-center font-medium",d&&"bg-primary/20",f&&"bg-secondary/30",p&&"ring-2 ring-primary bg-primary/30",!d&&!f&&!p&&"hover:bg-muted/50")};return a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs(qt,{className:"border border-border rounded-lg",children:[a.jsx(Zt,{children:a.jsxs(Ue,{className:"bg-muted/30",children:[a.jsx(Ne,{className:"font-bold text-foreground border-r border-border",children:"Alternatives / States"}),o.map((u,h)=>a.jsxs(Ne,{className:K("text-center font-semibold cursor-pointer transition-colors",e.type==="col"&&e.col===h?"bg-secondary/30 text-secondary-foreground":"hover:bg-muted/50"),onMouseEnter:()=>t({row:null,col:h,type:"col"}),onMouseLeave:()=>t({row:null,col:null,type:null}),children:[a.jsxs("span",{className:"text-muted-foreground text-xs block mb-1",children:["State ",h+1]}),u]},u))]})}),a.jsx(Jt,{children:i.map((u,h)=>a.jsxs(Ue,{children:[a.jsxs(Me,{className:K("font-medium border-r border-border cursor-pointer transition-colors",e.type==="row"&&e.row===h?"bg-primary/20":"hover:bg-muted/50"),onMouseEnter:()=>t({row:h,col:null,type:"row"}),onMouseLeave:()=>t({row:null,col:null,type:null}),children:[a.jsxs("span",{className:"text-muted-foreground text-xs block mb-1",children:["Alternative ",h+1]}),u]}),r[h].map((d,f)=>a.jsx(Me,{className:c(h,f),onClick:()=>l(h,f),children:a.jsxs("span",{className:K("text-lg",d>=100?"text-green-600":d>=0?"text-foreground":"text-red-500"),children:["$",d,"k"]})},f))]},u))})]})}),a.jsx("div",{className:"bg-muted/30 rounded-lg p-4 border border-border",children:n?a.jsxs("div",{className:"space-y-2",children:[a.jsxs("p",{className:"font-semibold text-primary",children:["Selected: ",i[n.row]," under ",o[n.col]]}),a.jsxs("p",{className:"text-muted-foreground",children:["If you choose ",a.jsx("strong",{children:i[n.row]})," and the market turns out to have"," ",a.jsx("strong",{children:o[n.col].toLowerCase()}),", your expected profit would be"," ",a.jsxs("strong",{className:r[n.row][n.col]>=0?"text-green-600":"text-red-500",children:["$",r[n.row][n.col],"k"]}),"."]})]}):a.jsx("p",{className:"text-muted-foreground italic",children:"Click on any cell in the matrix to see what that payoff means in context."})})]})},Af=()=>a.jsxs(a.Fragment,{children:[a.jsxs(le,{id:"intro-header",padding:"lg",children:[a.jsx(ce,{level:1,children:"Decision Theory: Making Choices Under Uncertainty"}),a.jsx(re,{className:"text-lg text-muted-foreground mt-2",children:"Learn how to make rational decisions when the future is uncertain."})]}),a.jsxs(le,{id:"intro-what-is-decision-theory",padding:"md",children:[a.jsx(ce,{level:2,children:"What is Decision-Making Under Uncertainty?"}),a.jsxs(re,{children:["Imagine you're a business owner deciding which product to launch. You don't know for certain whether the market will be favorable or not. This is a classic example of"," ",a.jsx(Ge,{tooltip:"A situation where you must choose an action without knowing which outcome will actually occur.",children:"decision-making under uncertainty"}),". Unlike decisions where outcomes are certain, here we must consider multiple possible futures."]})]}),a.jsxs(le,{id:"intro-key-concepts",padding:"md",children:[a.jsx(ce,{level:2,children:"The Three Key Concepts"}),a.jsx(re,{children:"Every decision problem under uncertainty has three essential components:"}),a.jsxs("div",{className:"grid gap-4 mt-4 md:grid-cols-3",children:[a.jsxs("div",{className:"bg-card border border-border rounded-lg p-4 shadow-sm",children:[a.jsx("h3",{className:"font-semibold text-primary mb-2",children:"1. Alternatives"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"The different choices or actions available to the decision-maker. These are the options you can choose from."}),a.jsx("p",{className:"text-xs mt-2 italic text-muted-foreground",children:"Example: Launch Product A, B, or C"})]}),a.jsxs("div",{className:"bg-card border border-border rounded-lg p-4 shadow-sm",children:[a.jsx("h3",{className:"font-semibold text-secondary mb-2",children:"2. States of Nature"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"The possible future scenarios that could occur. These are outside your control and uncertain."}),a.jsx("p",{className:"text-xs mt-2 italic text-muted-foreground",children:"Example: High, Medium, or Low market demand"})]}),a.jsxs("div",{className:"bg-card border border-border rounded-lg p-4 shadow-sm",children:[a.jsx("h3",{className:"font-semibold text-foreground mb-2",children:"3. Payoffs"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"The outcomes (usually profits or losses) that result from each combination of alternative and state of nature."}),a.jsx("p",{className:"text-xs mt-2 italic text-muted-foreground",children:"Example: $200k profit if Product A meets high demand"})]})]})]}),a.jsxs(le,{id:"intro-decision-matrix",padding:"md",children:[a.jsx(ce,{level:2,children:"The Decision Matrix (Payoff Table)"}),a.jsxs(re,{children:["We organize all this information in a"," ",a.jsx(Ge,{tooltip:"A table that shows the payoff for each combination of alternative and state of nature. Rows represent alternatives, columns represent states of nature.",children:"decision matrix"})," ","(also called a payoff table). Each row represents an alternative, each column represents a state of nature, and each cell contains the payoff for that combination."]}),a.jsx("div",{className:"mt-6",children:a.jsx(Sf,{})}),a.jsxs(re,{className:"mt-4",children:[a.jsx("strong",{children:"Try it:"})," Hover over the row headers to highlight all payoffs for an alternative. Hover over column headers to see outcomes under a specific state of nature. Click any cell to learn more about that specific scenario."]})]}),a.jsxs(le,{id:"intro-challenge",padding:"md",children:[a.jsx(ce,{level:2,enableMath:!1,children:"The Challenge: Which Alternative Should You Choose?"}),a.jsxs(re,{enableMath:!1,children:["Looking at the matrix above, which product would you launch? Product A offers the highest potential profit (",a.jsx("strong",{children:"$200k"}),") but also the biggest risk (",a.jsx("strong",{children:"$50k"}),"). Product C guarantees ",a.jsx("strong",{children:"$80k"}),` no matter what. There's no single "correct" answer  it depends on your risk tolerance. We'll explore three approaches:`," ",a.jsx(Ge,{tooltip:"Choose the alternative with the best possible outcome (optimistic approach).",children:"Maximax"})," ","(optimist),"," ",a.jsx(Ge,{tooltip:"Choose the alternative with the best worst-case outcome (pessimistic approach).",children:"Maximin"})," ","(pessimist), and"," ",a.jsx(Ge,{tooltip:"Minimize the maximum regret you could experience (opportunity cost approach).",children:"Minimax Regret"})," ",'(minimizing "what if" feelings).']})]})]}),Cf=()=>{const[e,t]=g.useState(0),[n,s]=g.useState(!1),[i,o]=g.useState(-1),[r,l]=g.useState(-1),[c,u]=g.useState(-1),[h,d]=g.useState(!1),[f,p]=g.useState([]),[y,x]=g.useState(!1),w=["Launch Product A","Launch Product B","Launch Product C"],T=["High Demand","Medium Demand","Low Demand"],j=[[200,100,-50],[150,120,30],[80,80,80]],A=j.map(M=>Math.max(...M)),P=A.indexOf(Math.max(...A));g.useEffect(()=>{e===0?(d(!1),p([]),l(-1),o(-1),u(-1),x(!1)):e===1?(d(!0),p([]),l(-1),x(!1),(async()=>{for(let v=0;v<w.length;v++){o(v);for(let B=0;B<T.length;B++)l(B),await new Promise(H=>setTimeout(H,500));l(-1),await new Promise(B=>setTimeout(B,600)),p(B=>[...B,v]),await new Promise(B=>setTimeout(B,500))}o(-1)})()):e===2?(p([0,1,2]),l(-1),o(-1),u(-1),x(!1)):e===3?(p([0,1,2]),l(-1),o(-1),x(!1),(async()=>{for(let v=0;v<w.length;v++)u(v),await new Promise(B=>setTimeout(B,700));u(-1)})()):e===4?(p([0,1,2]),l(-1),o(-1),u(-1),x(!1)):e===5&&(p([0,1,2]),l(-1),o(-1),u(-1),(async()=>(await new Promise(v=>setTimeout(v,500)),x(!0),await new Promise(v=>setTimeout(v,1e3)),s(!0)))())},[e,w.length,T.length]);const E=(M,v)=>{const H=j[M][v]===A[M],pe=M===P&&H&&y,te=i===M,oe=te&&r===v,$=te&&r===-1&&H&&!f.includes(M);if(e===0)return"bg-background";if(e===1){if(oe)return"bg-amber-100";if($)return"bg-green-200";if(H&&f.includes(M))return"bg-green-100"}if(e>=2){if(pe)return"bg-primary/20";if(H)return"bg-green-100"}return"bg-background"},k=M=>y&&M===P?"bg-primary/5":"",O=M=>e===3&&c===M?"bg-amber-100":e===3&&c===-1&&M===P||e>=4&&M===P?"bg-primary/20":"",D=e<=1?0:e<=3?1:2,N=[{title:"Step 1: Find the Maximum Payoff for Each Alternative",description:"For each row (alternative), identify the best possible outcome  the highest payoff you could achieve if the most favorable state occurs."},{title:"Step 2: Select the Maximum of the Max Payoffs",description:"Look at the Max Payoff column and find the highest value among all the maximum payoffs."},{title:"Step 3: Make the Maximax Decision",description:"The alternative with the highest maximum payoff is the Maximax choice. This is the optimist's decision!"}];return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex items-center gap-2 mb-4",children:N.map((M,v)=>a.jsxs("div",{className:K("flex items-center gap-2",v<=D||n?"text-primary":"text-muted-foreground"),children:[a.jsx("div",{className:K("w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium border-2 transition-all",v<D||n&&v<=D?"bg-primary text-primary-foreground border-primary":v===D?"border-primary text-primary":"border-muted-foreground/30"),children:v+1}),v<N.length-1&&a.jsx(vt,{className:"w-4 h-4 text-muted-foreground"})]},v))}),a.jsxs("div",{className:"bg-card border border-border rounded-lg p-4",children:[a.jsxs("h3",{className:"font-semibold text-lg flex items-center gap-2",children:[y&&a.jsx(Ds,{className:"w-5 h-5 text-primary"}),N[D].title]}),a.jsx("p",{className:"text-muted-foreground mt-1",children:N[D].description})]}),a.jsx("div",{className:"overflow-hidden",children:a.jsxs(qt,{className:"border border-border rounded-lg",children:[a.jsx(Zt,{children:a.jsxs(Ue,{className:"bg-muted/30",children:[a.jsx(Ne,{className:"font-bold text-foreground border-r border-border",children:"Alternatives"}),T.map(M=>a.jsx(Ne,{className:"text-center font-semibold",children:M},M)),h&&a.jsx(Ne,{className:"text-center font-bold border-l-2 border-primary/50 bg-primary/5 animate-in fade-in slide-in-from-right-4 duration-300",children:"Max Payoff"})]})}),a.jsx(Jt,{children:w.map((M,v)=>a.jsxs(Ue,{className:k(v),children:[a.jsx(Me,{className:"font-medium border-r border-border",children:M}),j[v].map((B,H)=>a.jsx(Me,{className:K("text-center transition-colors duration-300",E(v,H)),children:a.jsxs("span",{className:"text-lg font-medium",children:["$",B,"k"]})},H)),h&&a.jsx(Me,{className:K("text-center border-l-2 border-primary/50 font-bold transition-colors duration-300",O(v)),children:a.jsxs("div",{className:"flex items-center justify-center gap-1",children:[a.jsxs("span",{className:K("text-green-600 transition-opacity duration-500",f.includes(v)?"opacity-100":"opacity-0"),children:["$",A[v],"k"]}),y&&v===P&&a.jsx("span",{className:"text-xs text-primary",children:" Best!"})]})})]},M))})]})}),y&&a.jsxs("div",{className:"bg-primary/10 border border-primary/30 rounded-lg p-4 animate-in fade-in slide-in-from-bottom-2",children:[a.jsxs("p",{className:"font-semibold text-primary",children:["Maximax Decision: ",w[P]]}),a.jsxs("p",{className:"text-muted-foreground text-sm mt-1",children:["An optimist would choose ",w[P]," because it offers the highest possible payoff of $",A[P],"k if ",T[0]," occurs."]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(ve,{variant:"outline",onClick:()=>{t(0),s(!1)},disabled:e===0&&!n,className:"gap-2",children:[a.jsx(js,{className:"w-4 h-4"}),"Reset"]}),a.jsxs(ve,{onClick:()=>t(e+1),disabled:n||e===5,className:"gap-2",children:[n?"Completed":e===0||e===2||e===4?"Reveal":"Next Step",a.jsx(vt,{className:"w-4 h-4"})]})]})]})},Ef=()=>a.jsxs(a.Fragment,{children:[a.jsxs(le,{id:"maximax-header",padding:"lg",children:[a.jsx(ce,{level:1,children:"Maximax Criterion: The Optimist's Choice"}),a.jsx(re,{className:"text-lg text-muted-foreground mt-2",children:"When you believe the best will happen, aim for the highest possible reward."})]}),a.jsxs(le,{id:"maximax-concept",padding:"md",children:[a.jsx(ce,{level:2,children:"What is Maximax?"}),a.jsxs(re,{children:["Maximax is the"," ",a.jsx(Ge,{tooltip:"Someone who expects the most favorable outcome to occur and makes decisions accordingly.",children:"optimist's"})," ",'choice. The name means "',a.jsx("strong",{children:"MAXI"}),"mum of the ",a.jsx("strong",{children:"MAX"}),`imums"  find the best outcome for each option, then pick the one with the highest upside. It's the mindset of entrepreneurs who focus on opportunities and are willing to accept risk for bigger rewards.`]})]}),a.jsxs(le,{id:"maximax-algorithm",padding:"md",children:[a.jsx(ce,{level:2,children:"How Maximax Works"}),a.jsx(re,{children:"The algorithm is straightforward:"}),a.jsxs("ol",{className:"list-decimal list-inside space-y-2 mt-4 ml-4",children:[a.jsxs("li",{className:"text-muted-foreground",children:[a.jsx("span",{className:"text-foreground",children:"For each alternative, find the maximum payoff"}),"  the best outcome if everything goes perfectly."]}),a.jsxs("li",{className:"text-muted-foreground",children:[a.jsx("span",{className:"text-foreground",children:"Compare these maximum payoffs across all alternatives"}),"."]}),a.jsxs("li",{className:"text-muted-foreground",children:[a.jsx("span",{className:"text-foreground",children:"Select the alternative with the highest maximum"}),"  this is your Maximax choice."]})]})]}),a.jsxs(le,{id:"maximax-demo",padding:"md",children:[a.jsx(ce,{level:2,children:"Interactive Example"}),a.jsx(re,{children:'Walk through each step to see how Maximax works with our product launch example. Click "Next Step" to progress through the decision process.'}),a.jsx("div",{className:"mt-6",children:a.jsx(Cf,{})})]})]}),Mf=()=>{const[e,t]=g.useState(0),[n,s]=g.useState(!1),[i,o]=g.useState(-1),[r,l]=g.useState(-1),[c,u]=g.useState(-1),[h,d]=g.useState(!1),[f,p]=g.useState([]),[y,x]=g.useState(!1),w=["Launch Product A","Launch Product B","Launch Product C"],T=["High Demand","Medium Demand","Low Demand"],j=[[200,100,-50],[150,120,30],[80,80,80]],A=j.map(M=>Math.min(...M)),P=A.indexOf(Math.max(...A));g.useEffect(()=>{e===0?(d(!1),p([]),l(-1),o(-1),u(-1),x(!1)):e===1?(d(!0),p([]),l(-1),x(!1),(async()=>{for(let v=0;v<w.length;v++){o(v);for(let B=0;B<T.length;B++)l(B),await new Promise(H=>setTimeout(H,500));l(-1),await new Promise(B=>setTimeout(B,600)),p(B=>[...B,v]),await new Promise(B=>setTimeout(B,500))}o(-1)})()):e===2?(p([0,1,2]),l(-1),o(-1),u(-1),x(!1)):e===3?(p([0,1,2]),l(-1),o(-1),x(!1),(async()=>{for(let v=0;v<w.length;v++)u(v),await new Promise(B=>setTimeout(B,700));u(-1)})()):e===4?(p([0,1,2]),l(-1),o(-1),u(-1),x(!1)):e===5&&(p([0,1,2]),l(-1),o(-1),u(-1),(async()=>(await new Promise(v=>setTimeout(v,500)),x(!0),await new Promise(v=>setTimeout(v,1e3)),s(!0)))())},[e,w.length,T.length]);const E=(M,v)=>{const H=j[M][v]===A[M],pe=M===P&&H&&y,te=i===M,oe=te&&r===v,$=te&&r===-1&&H&&!f.includes(M);if(e===0)return"bg-background";if(e===1){if(oe)return"bg-amber-100";if($)return"bg-green-200";if(H&&f.includes(M))return"bg-green-100"}if(e>=2){if(pe)return"bg-primary/20";if(H)return"bg-green-100"}return"bg-background"},k=M=>y&&M===P?"bg-primary/5":"",O=M=>e===3&&c===M?"bg-amber-100":e===3&&c===-1&&M===P||e>=4&&M===P?"bg-primary/20":"",D=e<=1?0:e<=3?1:2,N=[{title:"Step 1: Find the Minimum Payoff for Each Alternative",description:"For each row (alternative), identify the worst possible outcome  the lowest payoff that could happen if things go badly."},{title:"Step 2: Select the Maximum of the Min Payoffs",description:"Look at the Min Payoff column and find the highest value among all the minimum payoffs."},{title:"Step 3: Make the Maximin Decision",description:"The alternative with the highest minimum payoff is the Maximin choice. This is the pessimist's decision!"}];return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex items-center gap-2 mb-4",children:N.map((M,v)=>a.jsxs("div",{className:K("flex items-center gap-2",v<=D||n?"text-primary":"text-muted-foreground"),children:[a.jsx("div",{className:K("w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium border-2 transition-all",v<D||n&&v<=D?"bg-primary text-primary-foreground border-primary":v===D?"border-primary text-primary":"border-muted-foreground/30"),children:v+1}),v<N.length-1&&a.jsx(vt,{className:"w-4 h-4 text-muted-foreground"})]},v))}),a.jsxs("div",{className:"bg-card border border-border rounded-lg p-4",children:[a.jsxs("h3",{className:"font-semibold text-lg flex items-center gap-2",children:[y&&a.jsx(Ds,{className:"w-5 h-5 text-primary"}),N[D].title]}),a.jsx("p",{className:"text-muted-foreground mt-1",children:N[D].description})]}),a.jsx("div",{className:"overflow-hidden",children:a.jsxs(qt,{className:"border border-border rounded-lg",children:[a.jsx(Zt,{children:a.jsxs(Ue,{className:"bg-muted/30",children:[a.jsx(Ne,{className:"font-bold text-foreground border-r border-border",children:"Alternatives"}),T.map(M=>a.jsx(Ne,{className:"text-center font-semibold",children:M},M)),h&&a.jsx(Ne,{className:"text-center font-bold border-l-2 border-primary/50 bg-primary/5 animate-in fade-in slide-in-from-right-4 duration-300",children:"Min Payoff"})]})}),a.jsx(Jt,{children:w.map((M,v)=>a.jsxs(Ue,{className:k(v),children:[a.jsx(Me,{className:"font-medium border-r border-border",children:M}),j[v].map((B,H)=>a.jsx(Me,{className:K("text-center transition-colors duration-300",E(v,H)),children:a.jsxs("span",{className:"text-lg font-medium",children:["$",B,"k"]})},H)),h&&a.jsx(Me,{className:K("text-center border-l-2 border-primary/50 font-bold transition-colors duration-300",O(v)),children:a.jsxs("div",{className:"flex items-center justify-center gap-1",children:[a.jsxs("span",{className:K("text-green-600 transition-opacity duration-500",f.includes(v)?"opacity-100":"opacity-0"),children:["$",A[v],"k"]}),y&&v===P&&a.jsx("span",{className:"text-xs text-primary",children:" Best!"})]})})]},M))})]})}),y&&a.jsxs("div",{className:"bg-primary/10 border border-primary/30 rounded-lg p-4 animate-in fade-in slide-in-from-bottom-2",children:[a.jsxs("p",{className:"font-semibold text-primary",children:["Maximin Decision: ",w[P]]}),a.jsxs("p",{className:"text-muted-foreground text-sm mt-1",children:["A pessimist would choose ",w[P]," because even in the worst case, you're guaranteed at least $",A[P],'k. This is the safest choice with the highest "floor."']})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(ve,{variant:"outline",onClick:()=>{t(0),s(!1)},disabled:e===0&&!n,className:"gap-2",children:[a.jsx(js,{className:"w-4 h-4"}),"Reset"]}),a.jsxs(ve,{onClick:()=>t(e+1),disabled:n||e===5,className:"gap-2",children:[n?"Completed":e===0||e===2||e===4?"Reveal":"Next Step",a.jsx(vt,{className:"w-4 h-4"})]})]})]})},Pf=()=>a.jsxs(a.Fragment,{children:[a.jsxs(le,{id:"maximin-header",padding:"lg",children:[a.jsx(ce,{level:1,children:"Maximin Criterion: The Pessimist's Choice"}),a.jsx(re,{className:"text-lg text-muted-foreground mt-2",children:"Protect yourself from the worst  guarantee the best possible floor."})]}),a.jsxs(le,{id:"maximin-concept",padding:"md",children:[a.jsx(ce,{level:2,children:"What is Maximin?"}),a.jsxs(re,{children:["Maximin is the"," ",a.jsx(Ge,{tooltip:"Someone who expects unfavorable outcomes and makes decisions to minimize potential losses.",children:"pessimist's"})," ",'choice. The name means "',a.jsx("strong",{children:"MAXI"}),"mum of the ",a.jsx("strong",{children:"MIN"}),`imums"  find the worst outcome for each option, then pick the one with the best worst-case. It's about`," ",a.jsx(Ge,{tooltip:"A strategy that focuses on limiting downside risk rather than maximizing upside potential.",children:"risk aversion"}),': "If everything goes wrong, which choice leaves me best off?"']})]}),a.jsxs(le,{id:"maximin-algorithm",padding:"md",children:[a.jsx(ce,{level:2,children:"How Maximin Works"}),a.jsx(re,{children:"The algorithm protects against the worst:"}),a.jsxs("ol",{className:"list-decimal list-inside space-y-2 mt-4 ml-4",children:[a.jsxs("li",{className:"text-muted-foreground",children:[a.jsx("span",{className:"text-foreground",children:"For each alternative, find the minimum payoff"}),"  the worst outcome if things go badly."]}),a.jsxs("li",{className:"text-muted-foreground",children:[a.jsx("span",{className:"text-foreground",children:"Compare these minimum payoffs across all alternatives"}),"."]}),a.jsxs("li",{className:"text-muted-foreground",children:[a.jsx("span",{className:"text-foreground",children:"Select the alternative with the highest minimum"}),"  this is your Maximin choice."]})]})]}),a.jsxs(le,{id:"maximin-demo",padding:"md",children:[a.jsx(ce,{level:2,children:"Interactive Example"}),a.jsx(re,{children:"Walk through each step to see how Maximin protects you from the worst outcomes. Notice how this leads to a different choice than Maximax!"}),a.jsx("div",{className:"mt-6",children:a.jsx(Mf,{})})]})]}),jf=()=>{const[e,t]=g.useState(0),[n,s]=g.useState(!1),[i,o]=g.useState(-1),[r,l]=g.useState(-1),[c,u]=g.useState(!1),[h,d]=g.useState([]),[f,p]=g.useState(!1),[y,x]=g.useState(-1),[w,T]=g.useState(-1),[j,A]=g.useState(!1),[P,E]=g.useState([]),[k,O]=g.useState(-1),[D,N]=g.useState(!1),[M,v]=g.useState(null),[B,H]=g.useState("none"),[pe,te]=g.useState([]),oe=["Product A","Product B","Product C"],$=["High Demand","Medium Demand","Low Demand"],X=[[200,100,-50],[150,120,30],[80,80,80]],ue=$.map((R,C)=>Math.max(...X.map(L=>L[C]))),ge=X.map(R=>R.map((C,L)=>ue[L]-C)),G=ge.map(R=>Math.max(...R)),Ae=G.indexOf(Math.min(...G));g.useEffect(()=>{e===0?(u(!1),d([]),o(-1),l(-1),p(!1),A(!1),E([]),x(-1),T(-1),O(-1),N(!1),v(null),H("none"),te([])):e===1?(u(!0),d([]),N(!1),(async()=>{for(let C=0;C<$.length;C++){for(let L=0;L<oe.length;L++)o(C),l(L),await new Promise(_=>setTimeout(_,500));l(-1),await new Promise(L=>setTimeout(L,600)),d(L=>[...L,C]),await new Promise(L=>setTimeout(L,500))}o(-1)})()):e===2?(d([0,1,2]),o(-1),l(-1),p(!1),N(!1),te([])):e===3?(d([0,1,2]),p(!1),A(!1),E([]),N(!1),te([]),(async()=>{for(let C=0;C<$.length;C++)for(let L=0;L<oe.length;L++)v({row:L,col:C}),H("none"),await new Promise(_=>setTimeout(_,300)),H("best"),await new Promise(_=>setTimeout(_,400)),H("minus"),await new Promise(_=>setTimeout(_,300)),H("payoff"),await new Promise(_=>setTimeout(_,400)),H("equals"),await new Promise(_=>setTimeout(_,300)),H("result"),await new Promise(_=>setTimeout(_,600)),te(_=>[..._,`${L}-${C}`]),H("none"),await new Promise(_=>setTimeout(_,200));v(null)})()):e===4?(p(!0),A(!1),E([]),N(!1)):e===5?(A(!0),E([]),N(!1),(async()=>{for(let C=0;C<oe.length;C++){x(C);for(let L=0;L<$.length;L++)T(L),await new Promise(_=>setTimeout(_,500));T(-1),await new Promise(L=>setTimeout(L,600)),E(L=>[...L,C]),await new Promise(L=>setTimeout(L,500))}x(-1)})()):e===6?(E([0,1,2]),T(-1),x(-1),O(-1),N(!1)):e===7?(E([0,1,2]),N(!1),(async()=>{for(let C=0;C<oe.length;C++)O(C),await new Promise(L=>setTimeout(L,700));O(-1)})()):e===8?(E([0,1,2]),O(-1),N(!1)):e===9&&(E([0,1,2]),O(-1),(async()=>(await new Promise(C=>setTimeout(C,500)),N(!0),await new Promise(C=>setTimeout(C,1e3)),s(!0)))())},[e,oe.length,$.length]);const ee=(R,C)=>{const L=X[R][C]===ue[C],_=i===C&&r===R,he=i===C&&r===-1&&L&&!h.includes(C);if(e===0)return"bg-background";if(e===1){if(_)return"bg-amber-100";if(he)return"bg-green-200";if(L&&h.includes(C))return"bg-green-100"}return e>=2&&L?"bg-green-100":"bg-background"},at=(R,C)=>{const L=X[R][C],_=ue[C],he=ge[R][C],de=(M==null?void 0:M.row)===R&&(M==null?void 0:M.col)===C,Qe=pe.includes(`${R}-${C}`);if(e===3){if(de&&B!=="none")return a.jsxs("div",{className:"flex flex-col items-center min-h-[48px] justify-center",children:[a.jsxs("span",{className:"text-sm text-muted-foreground font-mono",children:[B==="best"&&a.jsxs(a.Fragment,{children:[_,a.jsx("span",{className:"animate-pulse",children:"|"})]}),B==="minus"&&a.jsxs(a.Fragment,{children:[_," -",a.jsx("span",{className:"animate-pulse",children:"|"})]}),B==="payoff"&&a.jsxs(a.Fragment,{children:[_," - ",L,a.jsx("span",{className:"animate-pulse",children:"|"})]}),B==="equals"&&a.jsxs(a.Fragment,{children:[_," - ",L," =",a.jsx("span",{className:"animate-pulse",children:"|"})]}),B==="result"&&a.jsxs(a.Fragment,{children:[_," - ",L," ="]})]}),B==="result"&&a.jsx("span",{className:"text-lg font-bold text-green-600 animate-in fade-in",children:he})]});if(Qe)return a.jsx("span",{className:"text-lg font-medium",children:he})}return e>=4?a.jsx("span",{className:"text-lg font-medium",children:he}):a.jsxs("span",{className:"text-lg font-medium",children:["$",L,"k"]})},Y=(R,C)=>{const _=ge[R][C]===G[R],he=y===R,de=he&&w===C,Qe=he&&w===-1&&_&&!P.includes(R);if(e===5){if(de)return"bg-amber-100";if(Qe)return"bg-green-200";if(_&&P.includes(R))return"bg-green-100"}if(e>=6){if(D&&R===Ae&&_)return"bg-primary/20";if(_)return"bg-green-100"}return"bg-background"},Ce=R=>D&&R===Ae?"bg-primary/5":"",b=R=>e===7&&k===R?"bg-amber-100":e===7&&k===-1&&R===Ae||e>=8&&R===Ae?"bg-primary/20":"",F=e<=1?0:e<=3?1:e<=5?2:e<=7?3:4,W=[{title:"Step 1: Find the Best Payoff in Each Column",description:"For each state of nature (column), identify the highest payoff  the best you could do if you knew that state would occur."},{title:"Step 2: Calculate the Regret Matrix",description:"For each cell, calculate regret = (best in column) - (cell value). Regret represents the 'opportunity cost' of not choosing the best option for that state."},{title:"Step 3: Find Maximum Regret for Each Alternative",description:"For each alternative (row), find the maximum regret  the worst 'missed opportunity' you could experience."},{title:"Step 4: Select the Minimum of Maximum Regrets",description:"Look at the Max Regret column and find the smallest value among all the maximum regrets."},{title:"Step 5: Make the Minimax Regret Decision",description:"The alternative with the smallest maximum regret is the Minimax Regret choice. This minimizes your worst-case 'what if' feeling!"}];return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex flex-wrap items-center gap-2 mb-4",children:W.map((R,C)=>a.jsxs("div",{className:K("flex items-center gap-2",C<=F||n?"text-primary":"text-muted-foreground"),children:[a.jsx("div",{className:K("w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium border-2 transition-all",C<F||n&&C<=F?"bg-primary text-primary-foreground border-primary":C===F?"border-primary text-primary":"border-muted-foreground/30"),children:C+1}),C<W.length-1&&a.jsx(vt,{className:"w-4 h-4 text-muted-foreground"})]},C))}),a.jsxs("div",{className:"bg-card border border-border rounded-lg p-4",children:[a.jsxs("h3",{className:"font-semibold text-lg flex items-center gap-2",children:[D&&a.jsx(Ds,{className:"w-5 h-5 text-primary"}),W[F].title]}),a.jsx("p",{className:"text-muted-foreground mt-1",children:W[F].description})]}),a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium mb-2 text-sm text-muted-foreground",children:e===3&&pe.length>0?"Calculating Regret Values...":e>=4?"Regret Matrix":"Payoff Matrix"}),a.jsx("div",{className:"overflow-hidden",children:a.jsxs(qt,{className:"border border-border rounded-lg",children:[a.jsx(Zt,{children:a.jsxs(Ue,{className:"bg-muted/30",children:[a.jsx(Ne,{className:"font-bold text-foreground border-r border-border",children:"Alternatives"}),$.map(R=>a.jsx(Ne,{className:"text-center font-semibold",children:R},R)),j&&a.jsx(Ne,{className:"text-center font-bold border-l-2 border-primary/50 bg-primary/5 animate-in fade-in slide-in-from-right-4 duration-300",children:"Max Regret"})]})}),a.jsxs(Jt,{children:[oe.map((R,C)=>a.jsxs(Ue,{className:Ce(C),children:[a.jsx(Me,{className:"font-medium border-r border-border",children:R}),X[C].map((L,_)=>a.jsx(Me,{className:K("text-center transition-colors duration-300",ee(C,_),e>=5&&Y(C,_)),children:at(C,_)},_)),j&&a.jsx(Me,{className:K("text-center border-l-2 border-primary/50 font-bold transition-colors duration-300",b(C)),children:a.jsxs("div",{className:"flex items-center justify-center gap-1",children:[a.jsx("span",{className:K("text-green-600 transition-opacity duration-500",P.includes(C)?"opacity-100":"opacity-0"),children:G[C]}),D&&C===Ae&&a.jsx("span",{className:"text-xs text-primary",children:" Min!"})]})})]},R)),c&&e<4&&a.jsxs(Ue,{className:"bg-primary/5 border-t-2 border-primary/50",children:[a.jsx(Me,{className:"font-bold text-primary border-r border-border",children:"Best in Column"}),ue.map((R,C)=>a.jsx(Me,{className:"text-center",children:a.jsxs("span",{className:K("font-bold text-green-600 transition-opacity duration-500",h.includes(C)?"opacity-100":"opacity-0"),children:["$",R,"k"]})},C))]})]})]})})]})}),D&&a.jsxs("div",{className:"bg-primary/10 border border-primary/30 rounded-lg p-4 animate-in fade-in slide-in-from-bottom-2",children:[a.jsxs("p",{className:"font-semibold text-primary",children:["Minimax Regret Decision: ",oe[Ae]]}),a.jsxs("p",{className:"text-muted-foreground text-sm mt-1",children:["By choosing ",oe[Ae],", your maximum regret is only ",G[Ae],`. This means no matter what happens, you won't look back and think "I could have done `,G[Ae],` better if only I'd chosen differently."`]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(ve,{variant:"outline",onClick:()=>{t(0),s(!1)},disabled:e===0&&!n,className:"gap-2",children:[a.jsx(js,{className:"w-4 h-4"}),"Reset"]}),a.jsxs(ve,{onClick:()=>t(e+1),disabled:n||e===9,className:"gap-2",children:[n?"Completed":e===0||e===2||e===4||e===6||e===8?"Reveal":"Next Step",a.jsx(vt,{className:"w-4 h-4"})]})]})]})},Df=()=>a.jsxs(a.Fragment,{children:[a.jsxs(le,{id:"minimax-regret-header",padding:"lg",children:[a.jsx(ce,{level:1,children:'Minimax Regret: Minimizing "What If" Feelings'}),a.jsx(re,{className:"text-lg text-muted-foreground mt-2",children:"Avoid the pain of looking back and wishing you'd chosen differently."})]}),a.jsxs(le,{id:"minimax-regret-concept",padding:"md",children:[a.jsx(ce,{level:2,children:"What is Regret?"}),a.jsxs(re,{children:[a.jsx(Ge,{tooltip:"The difference between what you actually got and what you could have gotten if you had made the best choice for that particular outcome.",children:"Regret"})," ",'measures the "what if" feeling  the gap between what you got and what you could have gotten. For example, if you chose Product B and earned ',a.jsx("strong",{children:"$150k"}),", but Product A would have earned ",a.jsx("strong",{children:"$200k"}),", your regret is ",a.jsx("strong",{children:"$50k"}),". It's not a loss, but a missed opportunity."]})]}),a.jsxs(le,{id:"minimax-regret-philosophy",padding:"md",children:[a.jsx(ce,{level:2,children:"The Minimax Regret Philosophy"}),a.jsx(re,{children:`The Minimax Regret criterion says: "I want to minimize the maximum regret I could experience." It's a balanced approach  neither purely optimistic nor purely pessimistic. Instead, it focuses on avoiding the worst "hindsight" feeling.`}),a.jsx("div",{className:"bg-muted/30 rounded-lg p-4 mt-4 border border-border",children:a.jsx("p",{className:"italic text-muted-foreground",children:`"I can accept not getting the absolute best outcome, but I don't want to look back and feel terrible about my choice."`})})]}),a.jsxs(le,{id:"minimax-regret-algorithm",padding:"md",children:[a.jsx(ce,{level:2,children:"How Minimax Regret Works"}),a.jsx(re,{children:'The algorithm minimizes your worst "what if" feeling:'}),a.jsxs("ol",{className:"list-decimal list-inside space-y-2 mt-4 ml-4",children:[a.jsxs("li",{className:"text-muted-foreground",children:[a.jsx("span",{className:"text-foreground",children:"For each state of nature, find the best payoff"}),"  the maximum in each column."]}),a.jsxs("li",{className:"text-muted-foreground",children:[a.jsx("span",{className:"text-foreground",children:"Calculate regret for each cell"}),"  subtract the cell value from the best in its column."]}),a.jsxs("li",{className:"text-muted-foreground",children:[a.jsx("span",{className:"text-foreground",children:"For each alternative, find its maximum regret"}),'  the worst "what if" for that choice.']}),a.jsxs("li",{className:"text-muted-foreground",children:[a.jsx("span",{className:"text-foreground",children:"Select the alternative with the smallest maximum regret"}),"  this is your Minimax Regret choice."]})]})]}),a.jsxs(le,{id:"minimax-regret-demo",padding:"md",children:[a.jsx(ce,{level:2,children:"Interactive Example"}),a.jsx(re,{children:"Walk through each step to see how the regret matrix is built and the final decision is made."}),a.jsx("div",{className:"mt-6",children:a.jsx(jf,{})})]})]}),Rf=()=>a.jsx(a.Fragment,{}),Vf=[a.jsx(Pt,{maxWidth:"xl",children:a.jsx(Af,{})},"introduction"),a.jsx(Pt,{maxWidth:"xl",children:a.jsx(Ef,{})},"maximax"),a.jsx(Pt,{maxWidth:"xl",children:a.jsx(Pf,{})},"maximin"),a.jsx(Pt,{maxWidth:"xl",children:a.jsx(Df,{})},"minimax-regret"),a.jsx(Pt,{maxWidth:"xl",children:a.jsx(Rf,{})},"comparison")];export{Vf as sections};
